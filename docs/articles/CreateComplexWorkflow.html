<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Create a composed workflow • MODIStsp</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Create a composed workflow">
<meta property="og:description" content="MagellanNTK">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- Global site tag (gtag.js) - Google Analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-84499524-2"></script><script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-84499524-2');
</script>
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MODIStsp</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.00.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home"></span>
     
  </a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    <span class="fas fa-book"></span>
     
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/installation.html">Installation</a>
    </li>
    <li>
      <a href="../articles/interactive_execution.html">Interactive Execution - the MODIStsp GUI</a>
    </li>
    <li>
      <a href="../articles/noninteractive_execution.html">Non-Interactive Execution from within R</a>
    </li>
    <li>
      <a href="../articles/standalone_execution.html">Standalone Execution and Scheduled Processing</a>
    </li>
    <li>
      <a href="../articles/output.html">Outputs Format and Naming Conventions</a>
    </li>
    <li>
      <a href="../articles/analyze.html">Accessing and Analyzing Processed Data from R</a>
    </li>
    <li>
      <a href="../articles/products_list.html">Supported MODIS Products</a>
    </li>
  </ul>
</li>
<li>
  <a href="../articles/faq.html">
    <span class="fa fa-question-circle-o"></span>
     
    faq
  </a>
</li>
<li>
  <a href="../news/index.html">
    <span class="fa fa-newspaper-o"></span>
     
    news
  </a>
</li>
<li>
  <a href="../reference/index.html">
    <span class="fa fa-file-code-o"></span>
     
    functions
  </a>
</li>
<li>
  <a href="https://github.com/ropensci/MODIStsp/" class="external-link">
    <span class="fa fa-github fa-lg"></span>
     
    github
  </a>
</li>
<li>
  <a href="../articles/lorenzo.html">
    <span class="fa fa-cross"></span>
     
    dedication
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Create a composed workflow</h1>
            <h3 data-toc-skip class="subtitle">A developer’s guidelines</h3>
                        <h4 data-toc-skip class="author">Samuel Wieczorek</h4>
            
            <h4 data-toc-skip class="date">February 10, 2023</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/prostarproteomics/Magellan/blob/HEAD/vignettes/CreateComplexWorkflow.Rmd" class="external-link"><code>vignettes/CreateComplexWorkflow.Rmd</code></a></small>
      <div class="hidden name"><code>CreateComplexWorkflow.Rmd</code></div>

    </div>

    
    
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
  document.querySelector("h1").className = "title";
});
</script><script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
  var links = document.links;  
  for (var i = 0, linksLength = links.length; i < linksLength; i++)
    if (links[i].hostname != window.location.hostname)
      links[i].target = '_blank';
});
</script><div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>This vignette explains how to create a new pipeline in the Prostar framework. A pipeline is a set of data processes applied to a dataset (ie an object of class QFeatures).</p>
<p>A pipeline can be associated with datasets of specific type. Such, the use of a certain dataset restraint the set of possible pipelines. For example, if the current dataset is a protein one, it can be processed only by a protein pipeline.</p>
<p>It is divided in several parts:</p>
<ol style="list-style-type: decimal">
<li>Configuration file</li>
<li>xxx</li>
<li>xxx</li>
</ol>
</div>
<div class="section level2">
<h2 id="configuration-file">Configuration file<a class="anchor" aria-label="anchor" href="#configuration-file"></a>
</h2>
<p>This file (R/config.R) contains a list named def.pipeline in which each element is the definition of one pipeline implemented in Prostar. Here is a list with only one element:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pipeline.defs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  peptide<span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">'module_Peptide_Filtering'</span>,</span>
<span>             <span class="st">'module_Peptide_Normalization'</span>,</span>
<span>             <span class="st">'module_Peptide_Imputation'</span>,</span>
<span>             <span class="st">'module_Peptide_HypothesisTest'</span><span class="op">)</span></span>
<span>             <span class="op">)</span></span></code></pre></div>
<p>The name of each item (here <em>peptide</em>) is the name of the pipeline. It is important because it serves asa reference all along the code of Prostar. Each element is a vector a processes names with a specific nomenclature which has to be respected. Each process name begins with the keyword ‘module_’, followed by the name of the pipeline (here ‘Peptide’) and ends with the proper name of the process. This complete name is also the name of the file containing the code for the process. for example, the file ‘module_Peptide_Normalization.R’ contains the code for the normalization process over peptides.</p>
</div>
<div class="section level2">
<h2 id="instanciation-of-a-pipeline">Instanciation of a pipeline<a class="anchor" aria-label="anchor" href="#instanciation-of-a-pipeline"></a>
</h2>
<p>A pipeline is choosen by the user when he loads a dataset (the UI proposes a list a possible pipelines for the type of data).The type of pipeline used by the user is set in a variable in the metadata of the dataset. Thus, back to Prostar, it is easy to know which pipeline has to be activated.</p>
<p>Once a dataset has been loaded in Prostar, subitems are created in the menu ‘Data processing’</p>
<p>By default, when no dataset has been loaded yet, all the steps are disabled # Writing new process</p>
<p>A process such as usable with Magellan is a R6 classes which contains: * the configuration of the process, * the list of screens with their severs (shiny)</p>
<p>This class inherits from classes in Magellan: this is how the core engine is integrated in xxx.</p>
</div>
<div class="section level2">
<h2 id="writing-a-new-pipeline">Writing a new pipeline<a class="anchor" aria-label="anchor" href="#writing-a-new-pipeline"></a>
</h2>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; R version 4.2.2 (2022-10-31)</span></span>
<span><span class="co">#&gt; Platform: x86_64-pc-linux-gnu (64-bit)</span></span>
<span><span class="co">#&gt; Running under: Ubuntu 22.10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Matrix products: default</span></span>
<span><span class="co">#&gt; BLAS:   /home/samuel/R-4.2.2/lib/libRblas.so</span></span>
<span><span class="co">#&gt; LAPACK: /home/samuel/R-4.2.2/lib/libRlapack.so</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; locale:</span></span>
<span><span class="co">#&gt;  [1] LC_CTYPE=en_US.UTF-8       LC_NUMERIC=C              </span></span>
<span><span class="co">#&gt;  [3] LC_TIME=en_US.UTF-8        LC_COLLATE=en_US.UTF-8    </span></span>
<span><span class="co">#&gt;  [5] LC_MONETARY=en_US.UTF-8    LC_MESSAGES=en_US.UTF-8   </span></span>
<span><span class="co">#&gt;  [7] LC_PAPER=en_US.UTF-8       LC_NAME=C                 </span></span>
<span><span class="co">#&gt;  [9] LC_ADDRESS=C               LC_TELEPHONE=C            </span></span>
<span><span class="co">#&gt; [11] LC_MEASUREMENT=en_US.UTF-8 LC_IDENTIFICATION=C       </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attached base packages:</span></span>
<span><span class="co">#&gt; [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; other attached packages:</span></span>
<span><span class="co">#&gt; [1] BiocStyle_2.26.0</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; loaded via a namespace (and not attached):</span></span>
<span><span class="co">#&gt;  [1] rstudioapi_0.14     knitr_1.42          magrittr_2.0.3     </span></span>
<span><span class="co">#&gt;  [4] R6_2.5.1            ragg_1.2.5          rlang_1.0.6        </span></span>
<span><span class="co">#&gt;  [7] fastmap_1.1.0       stringr_1.5.0       tools_4.2.2        </span></span>
<span><span class="co">#&gt; [10] xfun_0.36           cli_3.6.0           jquerylib_0.1.4    </span></span>
<span><span class="co">#&gt; [13] systemfonts_1.0.4   htmltools_0.5.4     yaml_2.3.7         </span></span>
<span><span class="co">#&gt; [16] digest_0.6.31       rprojroot_2.0.3     lifecycle_1.0.3    </span></span>
<span><span class="co">#&gt; [19] pkgdown_2.0.7       bookdown_0.32       textshaping_0.3.6  </span></span>
<span><span class="co">#&gt; [22] purrr_1.0.1         BiocManager_1.30.19 vctrs_0.5.2        </span></span>
<span><span class="co">#&gt; [25] sass_0.4.5          fs_1.6.0            memoise_2.0.1      </span></span>
<span><span class="co">#&gt; [28] glue_1.6.2          cachem_1.0.6        evaluate_0.20      </span></span>
<span><span class="co">#&gt; [31] rmarkdown_2.20      stringi_1.7.12      compiler_4.2.2     </span></span>
<span><span class="co">#&gt; [34] bslib_0.4.2         desc_1.4.2          jsonlite_1.8.4</span></span></code></pre></div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Samuel Wieczorek.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
