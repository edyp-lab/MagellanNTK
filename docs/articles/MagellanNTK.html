<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>MagellanNTK user manual • MagellanNTK</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="MagellanNTK user manual">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">


    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">MagellanNTK</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.99.5</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../articles/MagellanNTK.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Build-a-pipeline-module.html">Build-a-pipeline-module tutorial</a>
    </li>
    <li>
      <a href="../articles/Create-a-new-pipeline-tutorial.html">Create a template</a>
    </li>
    <li>
      <a href="../articles/insideMagellanNTK.html">Inside MagellanNTK</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/edyp-lab/MagellanNTK/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>MagellanNTK user manual</h1>
                        <h4 data-toc-skip class="author">Samuel
Wieczorek</h4>
                                    <h4 data-toc-skip class="author">Thomas
Burger</h4>
                        
            <h4 data-toc-skip class="date">2024-10-06</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/edyp-lab/MagellanNTK/blob/HEAD/vignettes/MagellanNTK.Rmd" class="external-link"><code>vignettes/MagellanNTK.Rmd</code></a></small>
      <div class="hidden name"><code>MagellanNTK.Rmd</code></div>

    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      <p>The R package MagellanNTK (Magellan Navigation ToolKit) is a
      workflow manager using Shiny modules. It is the perfect companion
      package to build workflows and integrate them in your UI or run it
      standalone.</p>
    </div>
    
<style type="text/css">
.bordered{
  border-style: solid;
}
</style>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The package MagellanNTK provides the infrastructure for the
configuration, the execution and the surveillance of a defined sequence
of tasks. It builds graphical workflow based on third party tasks,
developed as Shiny modules. As a Shiny application itself, MagellanNTK
runs standalone or embebbed in another Shiny application, as it is the
case with the package <a href="https://github.com/edyp-lab/Prostar.2.0" class="external-link">Prostar 2.0</a>.</p>
<p>This document covers the description and the use of the user
interface provided by MagellanNTK. It starts with a general overview of
workflows and their principles. Then , it focuses on the User Interface
of <code>MagellanNTK</code>.</p>
<p>A more complete (and technical) information of how MagellanNTK works
can be www or if you intent to develop workflows or pipelines for
MagellanNTK, it is advised to see the xxx.</p>
<p>To go further in technical details, please refer to:</p>
<ul>
<li><p>‘Configure MagellanNTK’</p></li>
<li><p>Build a pipeline module</p></li>
<li><p>Create a new pipeline tutorial</p></li>
<li><p>Create complex workflow</p></li>
<li><p>Inside MagellanNTK</p></li>
</ul>
</div>
<div class="section level2">
<h2 id="installing-and-launching-magellanntk">Installing and launching MagellanNTK<a class="anchor" aria-label="anchor" href="#installing-and-launching-magellanntk"></a>
</h2>
<p>This is described in the README.</p>
</div>
<div class="section level2">
<h2 id="discovering-magellanntk">Discovering MagellanNTK<a class="anchor" aria-label="anchor" href="#discovering-magellanntk"></a>
</h2>
<p>The package MagellanNTK is based on the <code>shinydashboard</code>
package. In that sense, the user interface is composed of four
parts:</p>
<ul>
<li>Sidebar</li>
<li>Control bar</li>
<li>Header panel</li>
<li>Main part</li>
</ul>
<div class="section level3">
<h3 id="user-interface">User interface<a class="anchor" aria-label="anchor" href="#user-interface"></a>
</h3>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2FMagellanNTK_annote.png" alt="A single task composed of data analysis functions and user interface." width="50%" style="border-style: solid;"><p class="caption">
A single task composed of data analysis functions and user interface.
</p>
</div>
</div>
</div>
<div class="section level3">
<h3 id="sidebar">Sidebar<a class="anchor" aria-label="anchor" href="#sidebar"></a>
</h3>
</div>
<div class="section level3">
<h3 id="control-bar">Control bar<a class="anchor" aria-label="anchor" href="#control-bar"></a>
</h3>
<p>The control bar contains features to control the global behaviour of
the interface.</p>
<p>Console: A clikc on that link open the browser() in the R console
which</p>
</div>
<div class="section level3">
<h3 id="header-panel">Header panel<a class="anchor" aria-label="anchor" href="#header-panel"></a>
</h3>
</div>
<div class="section level3">
<h3 id="main-part">Main part<a class="anchor" aria-label="anchor" href="#main-part"></a>
</h3>
</div>
<div class="section level3">
<h3 id="builtin-functions">Builtin functions<a class="anchor" aria-label="anchor" href="#builtin-functions"></a>
</h3>
<p>The package <code>MagellanNTK</code> comes with a series of generic
functions, used to do some basic tasks. These functions are the
following:</p>
<ul>
<li>convert_dataset(): A Shiny module to convert any dataset to a format
suitable for the pipeline used.</li>
<li>open_dataset(): xxx</li>
<li>open_demoDataset(): xxx</li>
<li>view_dataset(): xxx</li>
<li>infos_dataset(): xxx</li>
<li>download_dataset(): xxx</li>
<li>addDatasets(): xxx</li>
<li>keepDatasets():</li>
</ul>
<p>Each of these functions are Shiny modules and are loaded by default
when MagellanNTK is run.</p>
<p>These functions can be overridden by similar functions int third
party packages which contains workflows to be run with MagellanNTK.Learn
more on customizing these functions in xxx</p>
</div>
</div>
<div class="section level2">
<h2 id="workflow-overview">Workflow overview<a class="anchor" aria-label="anchor" href="#workflow-overview"></a>
</h2>
<p>As a workflow manager, the aim of <code>MagellanNTK</code> is to
execute a series of ordered tasks over a dataset.</p>
<div class="section level3">
<h3 id="single-task">Single task<a class="anchor" aria-label="anchor" href="#single-task"></a>
</h3>
<p>In MagellanNTK, a task (or step) is defined as a data analysis
process that performs a minimal and consistent in a set of operations on
a dataset (see Fig @ref(fig:singleTask)) and a user interface based on
Shiny modules. Each task has also its own input object and returns an
object as output. Within MagellanNTK, those objects are <em>lists</em>
in which each item is a dataset (several formats are possible).</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2FsingleTask.png" alt="A single task composed of data analysis functions and user interface." width="50%" style="border-style: solid;"><p class="caption">
A single task composed of data analysis functions and user interface.
</p>
</div>
</div>
<p>The data analysis process do not necessarly modify the input dataset,
for example in case of a visualization task the input object and the
output objects are the same.</p>
<p>A single task is the simplest workflow that may exist.</p>
</div>
<div class="section level3">
<h3 id="process">Process<a class="anchor" aria-label="anchor" href="#process"></a>
</h3>
<p>A more complex workflow consists in a sequence of several tasks, what
defines here a <em>process</em>. Processes are implemented as Shiny
applications and embed the functions and UI of each of their single
tasks.</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fprocess.png" alt="A process is a sequence of single tasks." width="100%"><p class="caption">
A process is a sequence of single tasks.
</p>
</div>
</div>
<p>As for single tasks, a process take a list of datasets as input,
execute a series of tasks on the last dataset of the list (the more
recent), then returns a list of datasets. The output list may be:</p>
<ul>
<li><p>identical to the input list (same datasets) if the process did
not modify it (vizualization functions for example),</p></li>
<li><p>different if the program modifies the data. In this case,
MagellanNTK adds the modified dataset to the end of the list of datasets
rather than just updating the last dataset. The new list has one more
dataset.. Thus, at any time, the list of datasets keeps the entire
history of what happened to datasets.</p></li>
</ul>
<p>In a process workflow, the sequence of tasks is one-way: it always
begins from the first task and ends up at the last one. The simplest
sequence of tasks is the one where each task is executed once, after its
previous neighboor has been executed. However, it may be interesting to
introduce some additional rules to customize this sequence of tasks. As
for example, a given task may be facultative (eventually under some
condition) while another one will be mandatory. The implementation of
such features is made by mean of <em>properties</em> on tasks. Actually,
four tags refines the possibilities of a task:</p>
<ul>
<li><p>Mandatory: indicates whether a task must be executed to be able
to pursiue the workflow.</p></li>
<li><p>Done: indicates whether a task has been executed</p></li>
<li><p>Skipped: indicates whether a task has been skipped (i.e. it is
not validated and there is at least one task further that has been
validated)</p></li>
<li><p>Enabled: indicates whether the task is runnable (UI is enabled or
disabled).</p></li>
</ul>
<p>In MagellanNTK, tasks are tagged with a combination of these four
tags. Different styles are used to identify them in the user interface
(See Tab xxx)</p>
</div>
<div class="section level3">
<h3 id="pipeline">Pipeline<a class="anchor" aria-label="anchor" href="#pipeline"></a>
</h3>
<p>Similarly to a process, a pipeline is a workflow defined as a
sequence of processes (Fig @ref(fig:pipelineEV)). Thus, the manner of
pipeline works will be very similar to a process behaviour:</p>
<ul>
<li><p>each process (task of a pipeline) in a pipeline has tags and
properties (See xxx)</p></li>
<li><p>there is a list of datasets in input and get a list of datasets
at output</p></li>
</ul>
<p>As shown in xxx, a pipeline is at third level of such a
structure.</p>
<div class="figure" style="text-align: center">
<img src="figs%2Fpipeline.png" alt="A pipeline is a sequence of processes (eclated view)." width="100%"><p class="caption">
A pipeline is a sequence of processes (eclated view).
</p>
</div>
</div>
<div class="section level3">
<h3 id="rules-of-navigation">Rules of navigation<a class="anchor" aria-label="anchor" href="#rules-of-navigation"></a>
</h3>
<p>Some rules are applied to a workflow to guarantee the global strategy
of the workflow. This point is important to understand the possibilities
of navigation with MagellanNTK.</p>
<p><strong>Start workflow at the beginning</strong>. When launching a
workflow, the first task is the only enabled task. This guarantees to
always start from the first one.</p>
<p><strong>One way direction</strong>. The order in which tasks are
executed is in one direction: tasks are executed from the first one
towards the last one. Each iteration of time is a xxx. It is not
possible de go back or rerun a task that has already been validated
(exception if reset, see xxx).</p>
<p><strong>Chronological order of datasets in the list</strong>. The
input object of a workflow is a list of datasets but the workflow
operates only on the last one (the most recent one). When a workflow
produces a new dataset, this one is added at the end of the list.</p>
<p><strong>Tasks run once.</strong> In the same way, once a task has
been validated, it becomes disabled. This is to avoid to rerun a task.
In this case, that would mean that a task could modify its own result
(modify the dataset it has already produced). This case is not possible
in MagellanNTK</p>
<p><strong>Validating a task.</strong> When a task is validated, its
state becomes disabled ans all the further tasks until the next
mandatory one are automatically enabled.</p>
<p><strong>Enabling/disabling tasks</strong>. A disabled task means
there is a rule which do not allow it to be executed at this time. A
task at rank <em>n</em> is enabled if there is a previous task with rank
<em>i</em> (<em>i &lt; n</em>) that has been validated and if there is
no mandatory task of rank <em>j</em> (with <em>i &lt; j &lt; n</em>)
that is not validated.</p>
<p><strong>Resetting tasks</strong>. It is not possible to reset single
tasks (the lower level of tasks). Only whole processes and pipelines can
be reseted. For more details, see xxx.</p>
<p><strong>Navigation between steps.</strong> It is always possible to
navigate between all the steps event if they are disabled. This feature
is useful if one wants to see/discover the content of next steps or to
remind the values set in the previous widgets.</p>
</div>
</div>
<div class="section level2">
<h2 id="user-interface-1">User interface<a class="anchor" aria-label="anchor" href="#user-interface-1"></a>
</h2>
<div class="section level3">
<h3 id="layout">Layout<a class="anchor" aria-label="anchor" href="#layout"></a>
</h3>
<p>The user interface provided by MagellanNTK allows to work with
processes and pipelines as well. Thus, the interfaces for processes and
pipelines are very similar and share a lot of features. For this reason,
this section mainly focuses on a process workflow. Describing more
complex structures will be easier.</p>
<p>The generic layout is composed of three areas (Fig xxx):</p>
<ul>
<li><p>A <strong>timeline:</strong> which represent the sequence of
tasks composing the process, placed in the order they might be executed
(from the left to the right). The timeline may be horizontal (Fig xxx a)
or vertical (Fig xxx b)</p></li>
<li><p>A <strong>commands</strong> panel (in two parts) containing three
buttons (Next, Previous, Reset) which allow to interact and navigate
through the different steps of the process.</p></li>
<li><p><strong>UI of the current task</strong> which is a third party
code.</p></li>
</ul>
<p>In the case of a pipeline, the principle is the same. In the example
in Fig. xxx, a pipeline called ‘Pipeline A’ has four steps (Description,
Process 1, Process 2 and Process 3). Remark that the content of the UI
area of the pipeline is exactly the whole UI of its current process
(e.g. in Fig @ref(fig:layout)).</p>
<div class="figure" style="text-align: center">
<img src="figs%2Flayout.png" alt="(a) Horizontal layout, (b) Vertical layout" width="100%"><p class="caption">
</p>
<ol style="list-style-type: lower-alpha"><li>Horizontal layout, (b) Vertical layout

</li></ol>
</div>

<p>Note that in a pipeline timeline, the first step is still
‘Description’ but there is not more step called ‘Save’ as it is the case
for any process timeline. The reason is because it is not necessary
anymore due to the fact that a ‘Save’ step exists in the last process.
Thus, when the user save its work in the last process of the pipeline,
this will automatically save the whole object and return it to the
caller program.</p>
<div class="section level3">
<h3 id="timeline">Timeline<a class="anchor" aria-label="anchor" href="#timeline"></a>
</h3>
<p>In the timeline, steps are represented by bullets linked by lines.
The style of both bullets and line depends on the state of the
corresponding step. If the bullet of a step is enabled then all the
widgets of this step are enabled (as well as the Perform button). In the
contrary, a bullet that is disabled means that all the widgets and the
‘Perform’ button in the UI are disabled.</p>
<div class="figure" style="text-align: center">
<img src="figs%2Ftimeline.png" alt="Timeline example." width="100%"><p class="caption">
Timeline example.
</p>
</div>
<p>At any time, the current step is marked with an underline below the
name of the step.</p>
<table class="table">
<colgroup>
<col width="29%">
<col width="23%">
<col width="23%">
<col width="23%">
</colgroup>
<thead><tr class="header">
<th align="center">Bullet</th>
<th align="center">Property</th>
<th align="center">State</th>
<th align="center">Done/Undone</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><img src="figs%2Fbullet_empty_red_disabled.png" width="15" height="15"></td>
<td align="center">Skipped</td>
<td align="center">Disabled</td>
<td align="center">Undone</td>
</tr>
<tr class="even">
<td align="center"><img src="figs%2Fbullet_empty_red_disabled.png" width="15" height="15"></td>
<td align="center">Mandatory</td>
<td align="center">Disabled</td>
<td align="center">Undone</td>
</tr>
<tr class="odd">
<td align="center"><img src="figs%2Fbullet_empty_red_enabled.png" width="15"></td>
<td align="center">Mandatory</td>
<td align="center">Enabled</td>
<td align="center">Undone</td>
</tr>
<tr class="even">
<td align="center"><img src="figs%2Fbullet_full_green_disabled.png" width="15" height="15"></td>
<td align="center">-</td>
<td align="center">Disabled</td>
<td align="center">Done</td>
</tr>
<tr class="odd">
<td align="center"><img src="figs%2Fbullet_empty_red_disabled.png" width="15" height="15"></td>
<td align="center">Not mandatory</td>
<td align="center"></td>
<td align="center">Undone</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="commands">Commands<a class="anchor" aria-label="anchor" href="#commands"></a>
</h3>
<p>Three buttons are available to interact with the whole current step
and navigate through the different steps of the process:</p>
<div class="figure" style="text-align: center">
<img src="figs%2Fcommands.png" alt="Commands (Previous step, Reset workflow, Next step." width="50%"><p class="caption">
Commands (Previous step, Reset workflow, Next step.
</p>
</div>
<ul>
<li><p><strong>Prev</strong> changes the current step to set the
previous one. This button is enabled only if there is at least one step
backward,</p></li>
<li><p>Similarly, <strong>Next</strong> (on the right) changes the
current step to set the next one on the timeline. This button is enabled
only if there is at least one step forwards,</p></li>
<li><p><strong>Reset</strong> sets the workflow in its original state:
all the widgets are set to their default value, the current step becomes
the first one and is enabled and all other steps become
disabled).</p></li>
</ul>
</div>
<div class="section level3">
<h3 id="interface-of-a-step">Interface of a step<a class="anchor" aria-label="anchor" href="#interface-of-a-step"></a>
</h3>
<p>The interface for each step contains the graphical elements
implemented by the developer of the workflow such as widgets, plots,
textual information, etc…).</p>
<p>MagellanNTK adds only one button to each interface: the Perform
button. This command is used to validate the step and trigger all the
updates in the workflow (disabling the current step, enabling further
ones, changing the style of bullets, etc..).</p>
</div>
<div class="section level2">
<h2 id="process-workflow">Process workflow<a class="anchor" aria-label="anchor" href="#process-workflow"></a>
</h2>
<p>This section aims at describing how to use the workflow UI when
processing a dataset. The goal is not to describe the different data
processing tools available but to explain the behaviour of the user
interface of what we call ‘MagellanNTK core’. The next of the section is
a step-by-step guide of working with he UI worklfow. It can be followed
by typing the following command in a R console:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/prostarproteomics/MagellanNTK" class="external-link">MagellanNTK</a></span><span class="op">)</span></span>
<span><span class="fu">demo_workflow</span><span class="op">(</span><span class="st">'PipelineA_Process1'</span><span class="op">)</span></span></code></pre></div>
<p>The workflow used in this tutorial is a process called ‘Process 1’
which contains four steps: <em>Step1</em> and <em>Step2</em> are third
party code and specific to the process while the steps
<em>Description</em> and <em>Save</em> are added by MagellanNTK for xxx
purpose. By default, it comes with a horizontal layout.</p>
<p><strong>Starting the workflow</strong></p>
<p>Once the workflow manager is launched, a window containing the Shiny
application opens (Fig @ref(fig:demo1)). The current task is the first
one (‘Description’) and is enabled. At this time, the other steps are
yet disabled (this is because th Description step is mandatory and none
of the further steps is enabled until this steps is validated).</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fdemo_1.png" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p>However, it is possible to view the content of the other steps even
if they are disabled (Fig @ref(fig:demo12)).</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fdemo_1_2.png" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p><strong>Validating the ‘Description’ step</strong></p>
<p>The validation of the step (See Fig @(ref-fig:demo13) (by a click on
the ‘Start’ button) leads to some changes:</p>
<ul>
<li><p>the bullet of the step change from ‘Undone’ to ‘Done’.</p></li>
<li><p>The current step becomes disabled (all its widgets disabled). The
forwarding steps are enabled if they respect the rule
<strong>‘Enabling/disabling tasks’</strong> (See Section
@ref(rules-of-navigation)). In this example, the steps ‘Step 1’ and
‘Step 2’ are enabled but not the step ‘Save’ because it is placed after
a non-validated mandatory step.</p></li>
</ul>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fdemo_1_3.png" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p><strong>Go to next step</strong></p>
<p>The user switches to ‘Step 1’ by clicking on the ‘Next’ button. It
becomes the new current step (Fig @ref(fig:demo2)).</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fdemo_2.png" alt="New current step" width="100%"><p class="caption">
New current step
</p>
</div>
</div>
<p>In this use case, one skip this step. The user do not click on the
‘Perform’ button and switch to the next step (‘Step 2’) by clicking on
the ‘Next’ button. The user set it own values to the widgets and then
validate his choices by clicking on the button ‘Perform’.</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fdemo_3.png" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p>The changes are the following (See Fig @ref(fig:demo33)):</p>
<ul>
<li><p>As for all current steps, the entire interface switch to a
disabled state,</p></li>
<li><p>the bullet changes to the style of Validated steps</p></li>
<li><p>the next steps become enabled. In this case, there is only one
last step (‘Save’)</p></li>
<li><p>the style of bullets for previous steps is updated if necessary
(e.g. ‘Step 1’ switch to the bullet ‘skipped’. Note: A step is really
marked as skipped only if it has not been validated and a further one is
validated. That means that one can begin to modify the widgets in a step
<em>n</em>. If the user do not validate it and go to another step
(<em>&gt;n</em>), then the values of the step <em>n</em> will be
forgotten.</p></li>
</ul>
<p>If one go back to the previous step (the one we have skipped), we can
see a blue area which informs the user that this step has been skipped
(it has been disabled even with no validation). As a skipped step is
disabled, it is not possible to run it despite resetting the whole
workflow and start it again from scratch. This is only true for
processes. We will see that the workflows for pipelines are a bit more
flexible.</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fdemo_3_3.png" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p><strong>Saving workflow result</strong></p>
<p>The last step ‘Save’ is now enabled (by the validation of the
previous step). It is time to save th result of the workflow by clicking
on the ‘Save’ button (Fig @ref(Fig:demo4)). This will result in
appending the new dataset to the list of datasets passed as input to the
workflow.</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fdemo_4.png" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p>Once this step has been validated, all the steps of the workflow are
disabled.</p>
<p><strong>Reset a process</strong></p>
<p>In the workflow of a process, it is not possible to reset one
individual step so as to restart the analysis from this particular step.
In this case, if the user wants to redo one or more steps, it has to
reset the entire workflow. This can be done by clicking on the button
‘Reset’ which set the workflow in its default state (the same state as
when the user launches the workflow). The list of datasets return to the
one at the beginning of the workflow. The reset can be done on every
step. A popup warns the user of the effects (Fig
@ref(fig:demoreset)).</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fdemo_reset.png" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="pipeline-workflow">Pipeline workflow<a class="anchor" aria-label="anchor" href="#pipeline-workflow"></a>
</h2>
<p>In this section, one describes how to use the pipeline workflow. As
for teh process workflow, this is a step-by-step guide to be more
familiar with the interface. It can be followed by typing the following
command in a R console:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/prostarproteomics/MagellanNTK" class="external-link">MagellanNTK</a></span><span class="op">)</span></span>
<span><span class="fu">demo_workflow</span><span class="op">(</span><span class="st">'PipelineA'</span><span class="op">)</span></span></code></pre></div>
<p>The workflow used in this section is a pipeline called ‘Pipeline A’
which contains four processes as steps: <em>Process 1, Process 2</em>
and <em>Process 3</em> are third party code and specific to the pipeline
while the first step <em>Description</em> is added by MagellanNTK for
xxx purpose. By default, it comes with a horizontal layout.</p>
<p><strong>Launch a pipeline</strong></p>
<p>When launching a pipeline workflow, two timelines appear: one for the
pipeline itself and the other which is embedded in the UI of the
processes.</p>
<p>Note that the process called ‘Description’ of a pipeline does not
have any steps besides a Description one. This is an exception to the
rule that any process have at least one real step.</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fdemo_pipeline_1.png" alt="UI process2" width="100%"><p class="caption">
UI process2
</p>
</div>
</div>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fdemo_pipeline_1_3.png" alt="UI process3" width="100%"><p class="caption">
UI process3
</p>
</div>
</div>
<p>In the next figure (@ref(fig:demopipeline5)), the user has skipped
Process1, has validated all steps of Process2 and he is ready to
validate the Process2. Once done, the bullet for Process2 will change to
‘Done’ and the bullet for ‘Process1’ will change to ‘skipped’. One have
the same behaviour as for processes workflows.</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="figs%2Fdemo_pipeline_5.png" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p>When using a pipeline level, there are two ‘Reset’ Buttons: one for
the pipeline itself and one for the processes. If the Reset button of a
process is clicked, that affects only the current process.</p>
<p><strong>Resetting a process</strong></p>
<p>The behavior is the same as for processes (See xxx). The current step
becomes the first one (Description), all the widgets are set to their
default values and are disabled. The current process is still the
same.</p>
<p>The process becomes Undone in the timeline of the pipeline and the
dataset is set to the same at before running the process</p>
<p><strong>Resetting a pipeline</strong></p>
<p>If the Reset button of a pipeline is clicked, this will set back the
entire pipeline to its default values. The object is set back to the
beginning, i.e. all the datasets added by the processes are deleted. In
the pipeline’s timeline, the first step (‘Description’) becomes the
current one.</p>
<p>If the user goes backward on a previous step and validate this step,
then the following steps are automatically set to ‘undone’ and have to
be rerun. This guarantees that the steps are always done in the same
way. This feature must be implemented in each module source code. It
cannot be coded in the navigation module (recursive loop on the listener
of isDone vector)</p>
</div>
<div class="section level2">
<h2 id="session-information">Session information<a class="anchor" aria-label="anchor" href="#session-information"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## R version 4.4.1 (2024-06-14 ucrt)</span></span>
<span><span class="co">## Platform: x86_64-w64-mingw32/x64</span></span>
<span><span class="co">## Running under: Windows 10 x64 (build 19045)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">## [1] LC_COLLATE=French_France.utf8  LC_CTYPE=French_France.utf8   </span></span>
<span><span class="co">## [3] LC_MONETARY=French_France.utf8 LC_NUMERIC=C                  </span></span>
<span><span class="co">## [5] LC_TIME=French_France.utf8    </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: Europe/Paris</span></span>
<span><span class="co">## tzcode source: internal</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] BiocStyle_2.32.1</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] cli_3.6.3           knitr_1.48          rlang_1.1.4        </span></span>
<span><span class="co">##  [4] xfun_0.47           highr_0.11          textshaping_0.4.0  </span></span>
<span><span class="co">##  [7] jsonlite_1.8.9      htmltools_0.5.8.1   ragg_1.3.3         </span></span>
<span><span class="co">## [10] sass_0.4.9          rmarkdown_2.28      evaluate_1.0.0     </span></span>
<span><span class="co">## [13] jquerylib_0.1.4     fastmap_1.2.0       yaml_2.3.10        </span></span>
<span><span class="co">## [16] lifecycle_1.0.4     bookdown_0.40       BiocManager_1.30.25</span></span>
<span><span class="co">## [19] compiler_4.4.1      fs_1.6.4            htmlwidgets_1.6.4  </span></span>
<span><span class="co">## [22] rstudioapi_0.16.0   systemfonts_1.1.0   digest_0.6.37      </span></span>
<span><span class="co">## [25] R6_2.5.1            bslib_0.8.0         tools_4.4.1        </span></span>
<span><span class="co">## [28] pkgdown_2.1.1       cachem_1.1.0        desc_1.4.3</span></span></code></pre>
</div>
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Samuel Wieczorek, Thomas Burger.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

      </footer>
</body>
</html>
