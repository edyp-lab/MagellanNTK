<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Build-a-pipeline-module tutorial • Magellan</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/cerulean/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Build-a-pipeline-module tutorial">
<meta property="og:description" content="Magellan">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">Magellan</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../articles/Magellan.html">Get started</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Build-a-pipeline-module.html">Build-a-pipeline-module tutorial</a>
    </li>
    <li>
      <a href="../articles/Create-a-new-pipeline-tutorial.html">Create-a-new-pipeline-tutorial</a>
    </li>
    <li>
      <a href="../articles/Prostar_workflow_tutorial.html">Prostar navigation tutorial</a>
    </li>
    <li>
      <a href="../articles/Prostar_workflow_userguide.html">Inside Prostar core</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/samWieczorek/Magellan/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="Build-a-pipeline-module_files/header-attrs-2.6/header-attrs.js"></script><script src="Build-a-pipeline-module_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Build-a-pipeline-module tutorial</h1>
                        <h4 class="author">Samuel Wieczorek</h4>
                        
      
      <small class="dont-index">Source: <a href="https://github.com/samWieczorek/Magellan/blob/master/vignettes/Build-a-pipeline-module.Rmd"><code>vignettes/Build-a-pipeline-module.Rmd</code></a></small>
      <div class="hidden name"><code>Build-a-pipeline-module.Rmd</code></div>

    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      <p>This vignette describes how to develop a module for a treatment process in prostar. Such a process is part of a pipeline.</p>
    </div>
    
<script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
  document.querySelector("h1").className = "title";
});
</script><script type="text/javascript">
document.addEventListener("DOMContentLoaded", function() {
  var links = document.links;  
  for (var i = 0, linksLength = links.length; i < linksLength; i++)
    if (links[i].hostname != window.location.hostname)
      links[i].target = '_blank';
});
</script><div id="introduction" class="section level1">
<h1 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h1>
<p>A data processing module in Prostar is an independant Shinyapp which operate one or several treatments to a dataset. Its input has at least one dataset and its output is at least the modified input dataset. As in Prostar (&gt;=2.0.0), the class of the dataset is QFeatures. The aim of this tutorial is to show how to develop a process module for Prostar (ie a module which belongs to a pipeline and operates transformations on the dataset). Along this tutorial, one will create a module with 3 steps and aims to modify some values in the input dataset. For that, we will also use another module available in Prostar: the navigation module which manages modules wkith several steps.</p>
</div>
<div id="global-architecture-of-the-module" class="section level1">
<h1 class="hasAnchor">
<a href="#global-architecture-of-the-module" class="anchor"></a>Global architecture of the module</h1>
<p>A process module can be seen as a blackbox with inputs and outputs. As it must be self-contained, all informations (global variables, etc..) needed by the module are created and instanciated inside the module. However, when some information are managed in a module and are used by a large number of modules in Prostar, they can be passed as parameters.</p>
<p>Modules of processes can use one or several screens UIs. In the later case, we will use the navigation module which provides an engine to manage the set of steps for a module. Thus, the development of a process module only consists in coding the UI and server-side functions ; the managment of the sequence of steps is devoted to the navigation process.</p>
<p>From the file where the module is called, it is often useful to keep the result of this module in a reactive variable, so as to get directly access to a change in the return value of the module.</p>
<p>For this example, one assume that cxxxxx. All the following code is from the file dev/module_pipeline_process_skeleton.R. In the following parts, we detail each part of this code</p>
<p>The module that will be built is named <em>pipe_process</em> and have thw two functions present in a shiny module: the ui side (<strong>mod_pipe_process_ui</strong>) and the server side (<strong>mod_pipe_process_server</strong>).</p>
</div>
<div id="ui-side-function" class="section level1">
<h1 class="hasAnchor">
<a href="#ui-side-function" class="anchor"></a>Ui-side function</h1>
<p>Here is a typical ui function of a shiny module with the call to the ‘NS’ function. The most important line is the declaration of the UI for the navigation module <em>mod_navigation_ui</em> which is used to manage the screens of the module. Those screens are not displayed by the process module itself but they are sent to the navigation module. That is the reason why no declaration for the ui of the process module is present in this function.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">mod_pipe_process_ui</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">)</span><span class="op">{</span>
  <span class="va">ns</span> <span class="op">&lt;-</span> <span class="fu">NS</span><span class="op">(</span><span class="va">id</span><span class="op">)</span>
  <span class="fu">mod_navigation_ui</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">'nav_pipe_process'</span><span class="op">)</span><span class="op">)</span>
<span class="op">}</span></code></pre></div>
</div>
<div id="server-side-function" class="section level1">
<h1 class="hasAnchor">
<a href="#server-side-function" class="anchor"></a>Server-side function</h1>
<p>In this section, on describes all the necessary code for making the module runnable. Several steps are needed:</p>
<ul>
<li>Declaring reactive variables for the navigation module and the process module itself</li>
<li>xxx</li>
<li>xxxx</li>
<li>xxxx</li>
</ul>
<p>They are detailed in the following sections.</p>
</div>
<div id="declaring-reactive-variables" class="section level1">
<h1 class="hasAnchor">
<a href="#declaring-reactive-variables" class="anchor"></a>Declaring reactive variables</h1>
<p>Two types of reactive variables are used in a process module:</p>
<ul>
<li>
<strong>r.nav</strong>: a list of variables sent to the navigation module to manage screens</li>
<li>
<strong>rv.process</strong>: a list of specific variables used by the module process</li>
</ul>
<p>The following code defines the reactive variable to interact with the navigation module:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"> <span class="co">## Section navigation module</span>
  <span class="co"># Variable to manage the different screens of the module</span>
  <span class="va">r.nav</span> <span class="op">&lt;-</span> <span class="fu">reactiveValues</span><span class="op">(</span>
    name <span class="op">=</span> <span class="st">"Foo"</span>,
    stepsNames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Choose assay"</span>, <span class="st">"Change"</span>, <span class="st">"Save"</span><span class="op">)</span>,
    ll.UI <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span> screenStep1 <span class="op">=</span> <span class="fu">uiOutput</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"Screen_Process_1"</span><span class="op">)</span><span class="op">)</span>,
                  screenStep2 <span class="op">=</span> <span class="fu">uiOutput</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"Screen_Process_2"</span><span class="op">)</span><span class="op">)</span>,
                  screenStep3 <span class="op">=</span> <span class="fu">uiOutput</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"Screen_Process_3"</span><span class="op">)</span><span class="op">)</span>
    <span class="op">)</span>,
    isDone <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>,<span class="fl">3</span><span class="op">)</span>,
    mandatory <span class="op">=</span>  <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="cn">TRUE</span>,<span class="fl">3</span><span class="op">)</span>,
    reset <span class="op">=</span> <span class="cn">FALSE</span>
  <span class="op">)</span></code></pre></div>
<p>The name (<strong>r.nav</strong>) of the reactiveValues is always the same in all modules that could be develop in Prostar. The list is composed of the following items:</p>
<ul>
<li>
<strong>name</strong>: The id of the navigation process.</li>
<li>
<strong>stepsNames</strong>: A vector of names where each element correspond to a step of the process. These names are written at each point of the timeline in the navigation process,</li>
<li>
<strong>ll.UI</strong>: A list of uiOutput functions where each one correspond to a screen (UI) of the process. In order to respect the same nomenclature all over Prostar’s code, it is advised to name the different elements of the list as in the example. For example, for the ith step, one would write: screenStepi=uiOutput(ns("Screen_Process_i)),</li>
<li>
<strong>isDone</strong>: A vector of boolean which length is equal to the number of steps in the process. Each element indicates whether the corresponding step has been done. If it is the case, then the navigation module change the color of the timeline (e.g. from red to green) and enable the ‘next’ button.</li>
<li>
<strong>mandatory</strong>: A vector of boolean which length is equal to the number of steps in the process. Each element indicates whether the corresponding step is mandatory in the process or not. If it is, then it is colored in red when undone and the user cannot skip this step in the navigation module. If it is not mandatory, the default color is orange and the user can skip it. If a step is mandatory, it must be tagged as Done to go to the next step.</li>
<li>
<strong>reset</strong>: A boolean which indicates to the navigation process if it has to reset all widgets of the module or not.</li>
</ul>
<p>These values are default values and may change during the use of the module.</p>
<p>Then, we describe the reactive variables specific to the module process. In general, it is good to name this list with the prefix ‘rv.’ followed by the name of the process. For example, for the normalization process, one can create a list named ‘rv.norm’.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rv.process</span> <span class="op">&lt;-</span> <span class="fu">reactiveValues</span><span class="op">(</span>
  name <span class="op">=</span> <span class="st">"processProtNorm"</span>,
  dataIn <span class="op">=</span> <span class="cn">NULL</span>,
  dataOut <span class="op">=</span> <span class="cn">NULL</span>,
  widgets <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>assay <span class="op">=</span> <span class="fl">0</span>,
                 operator <span class="op">=</span> <span class="cn">NULL</span>,
                 operand <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
<ul>
<li>
<strong>name</strong>: the id of the process. This name is important because it is used seveal times by the core of Prostar. It must be referenced in only one pipeline (see the file R/config.R)</li>
<li>
<strong>dataIn</strong>: A QFeatures object</li>
<li>
<strong>i</strong>: the indice of the dataset in the QFeatures object on which operations have to be processed</li>
<li>
<strong>dataOut</strong>: A QFeatures object which is the return value of the module</li>
<li>
<strong>widgets</strong>: A list of values for all the widgets used in the process module. This list acts as temporary reactive variables for the widgets. They also can initialise the widgets and set them to as custom default value. These are the variables that are used all over the code of the module (one do not manipulate the value of the widgets from input[[]], except to instantiate this list)</li>
</ul>
</div>
<div id="reset-function" class="section level1">
<h1 class="hasAnchor">
<a href="#reset-function" class="anchor"></a>Reset function</h1>
<p>In this function (observeEvent), we look at the changes of the reactive variable r.nav$reset. The changes of this variable occur within the module navigation process (with an actionButton) and its new value will be automatically viewed by the process module.</p>
<p>When its value is equal to TRUE, all the reactive variables in the module process are set to their initial value.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">observeEvent</span><span class="op">(</span><span class="fu">req</span><span class="op">(</span><span class="va">r.nav</span><span class="op">$</span><span class="va">reset</span><span class="op">)</span>,<span class="op">{</span>
    
  <span class="co"># Just for the example: set the widget to its default value</span>
  <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>assay <span class="op">=</span> <span class="fl">0</span>,
                             operand <span class="op">=</span> <span class="cn">NULL</span>,
                             operator <span class="op">=</span> <span class="cn">NULL</span><span class="op">)</span>

  <span class="co">## do not modify this part</span>
  <span class="co"># Set the dataIn object to the original object sent to the process module</span>
  <span class="va">rv.process</span><span class="op">$</span><span class="va">dataIn</span> <span class="op">&lt;-</span> <span class="fu">obj</span><span class="op">(</span><span class="op">)</span>
  <span class="va">rv.process</span><span class="op">$</span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="op">)</span>
  
  <span class="co">#All the steps are undone</span>
  <span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html">rep</a></span><span class="op">(</span><span class="cn">FALSE</span>, <span class="fl">3</span><span class="op">)</span>
  
  <span class="co"># Set the reset variable back to FALSE (if we are in this observeEvent, it is because the variable has been set to TRUE)</span>
  <span class="va">r.nav</span><span class="op">$</span><span class="va">reset</span> <span class="op">&lt;-</span> <span class="cn">FALSE</span>
    <span class="co">## end of no modifiable part</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
</div>
<div id="managing-the-indice-of-assay" class="section level1">
<h1 class="hasAnchor">
<a href="#managing-the-indice-of-assay" class="anchor"></a>Managing the indice of assay</h1>
<p>By default (in a pipeline), when a dataset (QFeatures) have to be processed, the treatment operates on the last assay of the dataset. It then adds a new assay at the end of the assay list.</p>
<p>However, the user may want to redo a previous treatment. Then, it specifies the assay he wants to work on. In order to guarantee that the succession of assays are consistent with the pipeline direction, all the assays placed after the one he indicated are to be deleted before proceeding. In this case, onpopup window will appear to inform the user. He has the choice to accept or to decline. In the latter case, the interface of the module is kept disabled.</p>
<p>The management of the popup window is done with the package ‘shinyalert’. For that purpose, some pieces of code are necessary.</p>
<p>ui part</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="kw">useShinyalert</span>(),</span></code></pre></div>
<p>server part</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">observeEvent</span><span class="op">(</span><span class="fu">req</span><span class="op">(</span><span class="va">rv.filter</span><span class="op">$</span><span class="va">dataIn</span>, <span class="va">rv.filter</span><span class="op">$</span><span class="va">i</span> <span class="op">)</span>, <span class="op">{</span>
    <span class="va">a</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">rv.filter</span><span class="op">$</span><span class="va">dataIn</span><span class="op">)</span> <span class="op">!=</span> <span class="va">rv.filter</span><span class="op">$</span><span class="va">i</span><span class="op">)</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span><span class="op">)</span><span class="op">]</span>
    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="va">a</span><span class="op">)</span> <span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>

    <span class="fu">shinyalert</span><span class="op">(</span>
      title <span class="op">=</span> <span class="st">'title'</span>,
      text <span class="op">=</span> <span class="st">"This is a modal"</span>,
      size <span class="op">=</span> <span class="st">"xs"</span>, 
      closeOnEsc <span class="op">=</span> <span class="cn">TRUE</span>,
      closeOnClickOutside <span class="op">=</span> <span class="cn">FALSE</span>,
      html <span class="op">=</span> <span class="cn">FALSE</span>,
      type <span class="op">=</span> <span class="st">"info"</span>,
      showConfirmButton <span class="op">=</span> <span class="cn">TRUE</span>,
      showCancelButton <span class="op">=</span> <span class="cn">TRUE</span>,
      confirmButtonText <span class="op">=</span> <span class="st">"OK"</span>,
      confirmButtonCol <span class="op">=</span> <span class="st">"#15A4E6"</span>,
      cancelButtonText <span class="op">=</span> <span class="st">"Cancel"</span>,
      timer <span class="op">=</span> <span class="fl">0</span>,
      imageUrl <span class="op">=</span> <span class="st">""</span>,
      animation <span class="op">=</span> <span class="cn">FALSE</span>
    <span class="op">)</span>
  <span class="op">}</span><span class="op">)</span>



<span class="fu">observe</span><span class="op">(</span><span class="op">{</span>
    <span class="va">input</span><span class="op">$</span><span class="va">shinyalert</span>
    <span class="va">rv.filter</span><span class="op">$</span><span class="va">i</span>
    <span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">shinyalert</span><span class="op">)</span><span class="op">)</span><span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="cn">NULL</span><span class="op">)</span>
    
    <span class="va">c1</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">shinyalert</span>
    <span class="va">c2</span> <span class="op">&lt;-</span> <span class="va">rv.filter</span><span class="op">$</span><span class="va">i</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">rv.filter</span><span class="op">$</span><span class="va">dataIn</span><span class="op">)</span>
    <span class="va">c3</span> <span class="op">&lt;-</span> <span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span><span class="op">)</span><span class="op">]</span>
    <span class="kw">if</span> <span class="op">(</span><span class="va">c1</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="va">c2</span> <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="va">c3</span><span class="op">)</span><span class="op">{</span>
      <span class="co">#Delete all assays after that one indicated by the indice given in parameter</span>
      <span class="va">rv.filter</span><span class="op">$</span><span class="va">dataIn</span> <span class="op">&lt;-</span> <span class="va">rv.filter</span><span class="op">$</span><span class="va">dataIn</span><span class="op">[</span> , , <span class="op">-</span><span class="op">(</span><span class="op">(</span><span class="va">rv.filter</span><span class="op">$</span><span class="va">i</span><span class="op">+</span><span class="fl">1</span><span class="op">)</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">rv.filter</span><span class="op">$</span><span class="va">dataIn</span><span class="op">)</span><span class="op">)</span><span class="op">]</span>
      <span class="va">c1</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">shinyalert</span>
      <span class="va">c2</span> <span class="op">&lt;-</span> <span class="va">rv.filter</span><span class="op">$</span><span class="va">i</span> <span class="op">==</span> <span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">rv.filter</span><span class="op">$</span><span class="va">dataIn</span><span class="op">)</span>
      <span class="va">c3</span> <span class="op">&lt;-</span> <span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span><span class="op">)</span><span class="op">]</span>
    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span>
      <span class="co"># Do nothing, the module interface is still disabled</span>
    <span class="op">}</span>
    <span class="fu">shinyjs</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/shinyjs/man/stateFuncs.html">toggleState</a></span><span class="op">(</span><span class="st">'div_nav_pipe_process'</span>, condition <span class="op">=</span> <span class="op">!</span><span class="va">c3</span> <span class="op">&amp;&amp;</span> <span class="op">(</span><span class="va">c1</span><span class="op">||</span><span class="va">c2</span><span class="op">)</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
</div>
<div id="observe-for-module-parameters" class="section level1">
<h1 class="hasAnchor">
<a href="#observe-for-module-parameters" class="anchor"></a>Observe for module parameters</h1>
<p>In this section, there is an observe function to set the local reactive variable with the values of parameters of the module. These local variables are used as temporary reactive variables.</p>
<p>The last thing in this section is to observe changes in the parameters of the module. This is done by adding an observe function where the values of each parameter are used to set the reactive values of the module process:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">observe</span><span class="op">(</span><span class="op">{</span>
    <span class="fu">req</span><span class="op">(</span><span class="fu">obj</span><span class="op">(</span><span class="op">)</span><span class="op">)</span>
    <span class="va">rv.process</span><span class="op">$</span><span class="va">dataIn</span> <span class="op">&lt;-</span> <span class="fu">obj</span><span class="op">(</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
</div>
<div id="call-for-navigation-module" class="section level1">
<h1 class="hasAnchor">
<a href="#call-for-navigation-module" class="anchor"></a>Call for navigation module</h1>
<p>After the previous code, one can place the line to call the navigation module (server-side). It cannot be placed above because we need both r.nav and rv.process variables</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">callModule</span><span class="op">(</span><span class="va">mod_navigation_server</span>, <span class="st">'nav_pipe_process'</span>, style<span class="op">=</span><span class="fl">2</span>, pages<span class="op">=</span><span class="va">r.nav</span><span class="op">)</span></code></pre></div>
</div>
<div id="calls-to-other-modules" class="section level1">
<h1 class="hasAnchor">
<a href="#calls-to-other-modules" class="anchor"></a>Calls to other modules</h1>
<p>Here, one can put the call to other modules used in the process module. For example, if one want to include the module settings, add the following line</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">rv.process</span><span class="op">$</span><span class="va">settings</span> <span class="op">&lt;-</span> <span class="fu">callModule</span><span class="op">(</span><span class="va">mod_settings_server</span>,
                                 <span class="st">"settings"</span>, 
                                 obj <span class="op">=</span> <span class="fu">reactive</span><span class="op">(</span><span class="op">{</span><span class="fu">obj</span><span class="op">(</span><span class="op">)</span><span class="op">}</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
<div id="definition-of-the-screens" class="section level1">
<h1 class="hasAnchor">
<a href="#definition-of-the-screens" class="anchor"></a>Definition of the screens</h1>
<p>For each screen declared previously (the ‘uiOutput’ in the r.nav$ll.UI list), there is a corresponding renderUI function.</p>
<p>Note: The content of these screens is for educational purpose and is not mandatory for the process module. The only necessary code is the list of the screens.</p>
<p>Each screen section contains the renderUI function and the set of functions used to make the screen work</p>
<div id="screen-1" class="section level2">
<h2 class="hasAnchor">
<a href="#screen-1" class="anchor"></a>Screen 1</h2>
<p>In the first function, one declare a selectInput widget to choose the assay on which operations will be done</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">output</span><span class="op">$</span><span class="va">Screen_Process_1</span> <span class="op">&lt;-</span> <span class="fu">renderUI</span><span class="op">(</span><span class="op">{</span>
    <span class="fu">selectInpput</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">'selectAssay'</span><span class="op">)</span>, 
                 <span class="st">'Select assay'</span>, 
                 choices<span class="op">=</span><span class="fl">1</span><span class="op">:</span><span class="fu"><a href="https://rdrr.io/r/base/length.html">length</a></span><span class="op">(</span><span class="va">rv.process</span><span class="op">$</span><span class="va">dataIn</span><span class="op">)</span>, 
                 selected<span class="op">=</span><span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">assay</span><span class="op">)</span>
    
  <span class="op">}</span><span class="op">)</span></code></pre></div>
<p>For each input declared in UI functions, there must be on observeEvent to watch its value and instanciate the corresponding reactive value in the list named <em>rv.process$widgets</em>.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">selectAssay</span>, <span class="op">{</span>
    <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">assay</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html">as.numeric</a></span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">selectAssay</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
<p>The last function for the screen 1 is used to watch the variable <em>rv.process<span class="math inline">\(widgets\)</span>assay</em>. If its value is greater then 0 (i.e. the user has selected an assay in the QFeatures object), then he can pass to the second step of the module. For that, the first element of the vector r.nav$isDone is set to TRUE, telling the navigation process to change the color in the timeline (see xxx).</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="fu">observe</span><span class="op">(</span><span class="op">{</span>
    <span class="kw">if</span> <span class="op">(</span><span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">assay</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span>
        <span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
</div>
<div id="screen-2" class="section level2">
<h2 class="hasAnchor">
<a href="#screen-2" class="anchor"></a>Screen 2</h2>
<p>In the second screen, three widgets are defined:</p>
<ul>
<li>a radioButtons to choose which operation will be applied to the dataset,</li>
<li>a numericInput to choose the other operand,</li>
<li>an actionButton to apply changes in the temporary reactive variable.</li>
</ul>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"> <span class="va">output</span><span class="op">$</span><span class="va">Screen_Process_2</span> <span class="op">&lt;-</span> <span class="fu">renderUI</span><span class="op">(</span><span class="op">{</span>
  <span class="fu">tagList</span><span class="op">(</span>
    <span class="fu">radioButtons</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">'operator'</span><span class="op">)</span>, <span class="st">'Choose operator'</span>,
                 choices <span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'addition'</span> <span class="op">=</span> <span class="st">'addition'</span>,
                               <span class="st">'soustraction'</span> <span class="op">=</span> <span class="st">'soustraction'</span>,
                               <span class="st">'product'</span> <span class="op">=</span> <span class="st">'product'</span><span class="op">)</span>
    <span class="op">)</span>,
    <span class="fu">numericInput</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">'operand'</span><span class="op">)</span>, 
                 <span class="st">'Choose operand'</span>, 
                 value <span class="op">=</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">operand</span>, 
                 min<span class="op">=</span><span class="fl">0</span>, 
                 max<span class="op">=</span><span class="fl">10</span><span class="op">)</span>,
    <span class="fu">actionButton</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">'change'</span><span class="op">)</span>, <span class="st">'Apply operator'</span><span class="op">)</span>
  <span class="op">)</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
<p>As previously, there are observe functions to update each of the widgets reactive values.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">operator</span>, ignoreInit<span class="op">=</span><span class="cn">TRUE</span>,<span class="op">{</span>
    <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">operator</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">operator</span>
  <span class="op">}</span><span class="op">)</span>
  
  <span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">operand</span>, ignoreInit<span class="op">=</span><span class="cn">TRUE</span>,<span class="op">{</span>
    <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">operand</span> <span class="op">&lt;-</span> <span class="va">input</span><span class="op">$</span><span class="va">operand</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
<p>Here, the validation of the step is not processed by the watching of a reactive variable but is made by an actionButton. When the user clicks on the button, the operation is done on the dataset. The variable <em>rv.process<span class="math inline">\(dataIn* is then updated with the new value. The variable *rv.process\)</span>dataOut</em> is not yet instantiated because other steps may occur in the module and they need a temporary variable. Finally, the vector <em>r.nav$isDone</em> is updated.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">change</span>,<span class="op">{</span>
    
    <span class="va">tmp</span> <span class="op">&lt;-</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">dataIn</span><span class="op">[[</span><span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">assay</span><span class="op">]</span><span class="op">]</span>
    
    <span class="kw"><a href="https://rdrr.io/r/base/switch.html">switch</a></span> <span class="op">(</span><span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">operator</span>,
            addition <span class="op">=</span> <span class="fu">assay</span><span class="op">(</span><span class="va">tmp</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu">assay</span><span class="op">(</span><span class="va">tmp</span><span class="op">)</span> <span class="op">+</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">operand</span>,
            soustraction <span class="op">=</span> <span class="fu">assay</span><span class="op">(</span><span class="va">tmp</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu">assay</span><span class="op">(</span><span class="va">tmp</span><span class="op">)</span> <span class="op">-</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">operand</span>,
            product <span class="op">=</span> <span class="fu">assay</span><span class="op">(</span><span class="va">tmp</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu">assay</span><span class="op">(</span><span class="va">tmp</span><span class="op">)</span> <span class="op">*</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">operand</span>
    <span class="op">)</span>
   
    <span class="va">rv.process</span><span class="op">$</span><span class="va">dataIn</span> <span class="op">&lt;-</span> <span class="fu">QFeatures</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/QFeatures/man/QFeatures-class.html">addAssay</a></span><span class="op">(</span><span class="va">rv.process</span><span class="op">$</span><span class="va">dataIn</span>,
                                            <span class="va">tmp</span>,
                                            <span class="st">'tutorial'</span><span class="op">)</span>
    <span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
</div>
<div id="screen-3" class="section level2">
<h2 class="hasAnchor">
<a href="#screen-3" class="anchor"></a>Screen 3</h2>
<p>In this last screen, an actionButton is defined to validate all the changes that have been processed in the module.</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R">  <span class="va">output</span><span class="op">$</span><span class="va">Screen_Process_3</span> <span class="op">&lt;-</span> <span class="fu">renderUI</span><span class="op">(</span><span class="op">{</span>
      <span class="fu">actionButton</span><span class="op">(</span><span class="fu">ns</span><span class="op">(</span><span class="st">"save"</span><span class="op">)</span>, <span class="st">"Save"</span><span class="op">)</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
<p>The validation is made via a watching function on the value of the actionButton. An important point is to set the <em>Params</em> list in the metadata of the recently created assay of the QFeatures object. This is a manner to keep in memory all the parameters that have conducted to this new assay. Those parameters will also be used in other modules of Prostar.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">save</span>,<span class="op">{</span> 
      <span class="fu">metadata</span><span class="op">(</span><span class="va">rv.process</span><span class="op">$</span><span class="va">dataIn</span><span class="op">[[</span><span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">assay</span><span class="op">+</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">Params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
                          operand <span class="op">=</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">operand</span>,
                          operator <span class="op">=</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">operator</span>
                          <span class="op">)</span>

      <span class="va">rv.process</span><span class="op">$</span><span class="va">dataOut</span> <span class="op">&lt;-</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">dataIn</span>
      <span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
<p>Once the parameters have been saved, the variable <em>rv.process$dataOut</em> is set with the current dataset. From this time, the return of the module is functional (the value is not NULL) and the caller module will receive an update value.</p>
</div>
<div id="validating-the-steps" class="section level2">
<h2 class="hasAnchor">
<a href="#validating-the-steps" class="anchor"></a>Validating the steps</h2>
<p>To validate a step, one have to observe an event which can be:</p>
<ul>
<li>an event triggered by a widget (i.e. an actionButton)</li>
<li>a test on one or several variables in the process module.</li>
</ul>
<p>In this example, for the first step,the event is triggered by an action button named ‘perform1’. When the user has selected the right column to change in the dataset (via the widget selectInput), he clicks on the ‘perform1’ button. Then:</p>
<ol style="list-style-type: decimal">
<li>the value of the selected column is stored in another reactive variable,</li>
<li>The first position of the variable r.nav$isDone is set to TRUE. That indicates to the navigation module to color in green the corresponding label. The other effect is that it enables the ‘Next’ button to go to the second step.</li>
</ol>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">perform1</span>,<span class="op">{</span>
    <span class="va">rv.process</span><span class="op">$</span><span class="va">column</span> <span class="op">&lt;-</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">widget</span><span class="op">$</span><span class="va">column</span>
    <span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
<p>There must be a reactive function for each step in the process module. This function can be:</p>
<ul>
<li>An observe function</li>
<li>An observeEvent function</li>
<li>A reactive function</li>
</ul>
<p>The most important point is that this function contains a line to indicate that the step is done. For the i th step, there must be the following line:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>    r.nav<span class="op">$</span>isDone[i] &lt;-<span class="st"> </span><span class="ot">TRUE</span></span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="er">})</span></span></code></pre></div>
</div>
<div id="server-functions-for-process-module" class="section level2">
<h2 class="hasAnchor">
<a href="#server-functions-for-process-module" class="anchor"></a>Server functions for process module</h2>
<p>At this step, one have declared all necessary functions for UI and the management of widgets with reactive variables. It is time to code the core functions of the process. For the example in this tutorial, one have to write xxx functions:</p>
<ul>
<li>a function to modify the current dataset, triggered by the xxx button</li>
<li>a function to save the dataset, that is to say to set the reactive variable rv.process$dataOut</li>
</ul>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">change</span>, <span class="op">{</span>
  
  
  
<span class="op">}</span><span class="op">)</span></code></pre></div>
<p>In the second function, there is three steps:</p>
<ol style="list-style-type: decimal">
<li>the first line collects the value of all interesting widgets to put them in the metadata of the dataset as a list named Params,</li>
<li>Set the dataOut variable to the value of the current dataset,</li>
<li>Set the third position of the isDone vector to TRU to indicate that this step is done.</li>
</ol>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">observeEvent</span><span class="op">(</span><span class="va">input</span><span class="op">$</span><span class="va">save</span>,<span class="op">{</span> 
    
      <span class="fu">metadata</span><span class="op">(</span><span class="va">rv.process</span><span class="op">$</span><span class="va">dataIn</span><span class="op">[[</span><span class="va">rv.process</span><span class="op">$</span><span class="va">i</span><span class="op">]</span><span class="op">]</span><span class="op">)</span><span class="op">$</span><span class="va">Params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span>
        operand <span class="op">=</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">operand</span>,
        operator <span class="op">=</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">widgets</span><span class="op">$</span><span class="va">operator</span>,
      <span class="op">)</span>
      
      <span class="va">rv.process</span><span class="op">$</span><span class="va">dataOut</span> <span class="op">&lt;-</span> <span class="va">rv.process</span><span class="op">$</span><span class="va">dataIn</span>
      <span class="va">r.nav</span><span class="op">$</span><span class="va">isDone</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="op">&lt;-</span> <span class="cn">TRUE</span>
  <span class="op">}</span><span class="op">)</span></code></pre></div>
<p>Note : It is not necessary to create specific variables for the input of actionButtons because we do not need its value further. This technique is only used for the widgets corresponding to parameters. By doing this, one can keep the value all along the lifetime of the module.</p>
</div>
<div id="return-value-of-the-module" class="section level2">
<h2 class="hasAnchor">
<a href="#return-value-of-the-module" class="anchor"></a>Return value of the module</h2>
<p>The return value of a module is always the reactive value named dataOut. It is set at the final step of the module.</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/function.html">return</a></span><span class="op">(</span><span class="fu">reactive</span><span class="op">(</span><span class="op">{</span><span class="va">rv.process</span><span class="op">$</span><span class="va">dataOut</span><span class="op">}</span><span class="op">)</span><span class="op">)</span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Samuel Wieczorek.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
