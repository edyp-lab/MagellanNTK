<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>MagellanNTK user manual • MagellanNTK</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="MagellanNTK user manual">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">MagellanNTK</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.99.28</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="active nav-item"><a class="nav-link" href="../articles/MagellanNTK.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/Build-a-pipeline-module.html">Build-a-pipeline-module tutorial</a></li>
    <li><a class="dropdown-item" href="../articles/Create-a-new-pipeline-tutorial.html">Create a template</a></li>
    <li><a class="dropdown-item" href="../articles/insideMagellanNTK.html">Inside MagellanNTK</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/edyp-lab/MagellanNTK/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>MagellanNTK user manual</h1>
                        <h4 data-toc-skip class="author">Samuel
Wieczorek</h4>
                                    <h4 data-toc-skip class="author">Thomas
Burger</h4>
                        
            <h4 data-toc-skip class="date">February 19, 2026</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/edyp-lab/MagellanNTK/blob/main/vignettes/MagellanNTK.Rmd" class="external-link"><code>vignettes/MagellanNTK.Rmd</code></a></small>
      <div class="d-none name"><code>MagellanNTK.Rmd</code></div>
    </div>

    
        <div class="abstract">
      <p class="abstract">Abstract</p>
      <p>The R package MagellanNTK (Magellan Navigation ToolKit) is a
      workflow manager using Shiny modules. It is the perfect companion
      package to build workflows and integrate them in your UI or run it
      standalone.</p>
    </div>
    
<style type="text/css">
.bordered{
  border-style: solid;
}
</style>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The package MagellanNTK provides the infrastructure for the
configuration, the execution and the surveillance of a defined sequence
of tasks. It builds graphical workflow based on third party tasks,
developed as Shiny modules.</p>
<p>This document covers the description and the use of the user
interface provided by MagellanNTK. It starts with a general overview of
workflows and their principles. Then , it focuses on the User Interface
of <code>MagellanNTK</code>.</p>
<p>For a more complete (and technical) information about MagellanNTK, it
is advised to see the <code>Inside MagellanNTK</code></p>
<div class="section level3">
<h3 id="main-features">Main features<a class="anchor" aria-label="anchor" href="#main-features"></a>
</h3>
<p>MagellanNTK est un workflow manager hautement configurable qui
propose un gestionnaire de workflow qualitatif et qui suit une stratégie
simple mais robuste. Il permet de travailler avec des données au format
<code>MultiAssayExperiment</code> ainsi que celles qui en sont dérivées
(Ex : <code>QFeatures</code>). De ce fait, il peut traiter et analyser
des données expérimentales de domaines très variés. MagellanNTK utilise
la structure de données proposée par le package
<code>MultiAssayExperiment</code> qui permet de stocker des données
expérimentales résultant d’une série de traitement. Les résultats des
différents traitement des données sont ajoutés au dataset courant de
sorte qu’un seul fichier de résultat contient les informations de
l’ensemble d’une analyse.</p>
<p>Les pipelines utilisés avec MagellanNTK sont des plugins sous forme
de modules Shiny dont le code est stocké dans un répertoire propre à
chaque pipeline. Ces plugins sont ajoutés à MagellanNTK au moment du
lancement de l’application. La structure de ces répertoires est décrite
dans le document ‘Inside MagellanNTK’. MagellanNTK peut faire fonctinner
soit un pipeline complet (avec l’ensemble de ses processe de
traitement), soit un seul de ses process de traitement. Ce dernier cas
est intéressant pour mettre au point un nouveau process ou pour un
traitement de données plus rapide et ciblé.</p>
<p>One of the key feature of MagellanNTK est sa grande possibilité de
personnalisation. Pour cela, il ets fait un usage intensif des modules
Shiny qui rendent cela ^plus facile. Les “fonctions génériques” dans
MagellanNTK sont des fonctions qui peuvent provenir de MagellanNTK
lui-même (fonctions par défaut), ou des plugins contenant les pipelines,
soit d’autres packages. Le choix de ces fonctions est spécifié dans le
fichier de configuration (nommé config.txt) de chaque plugin. Dans
l’exemple de plugin fourni dans MagellanNTK, on voit que toues ces
fonctions pointent vers des fonctions de MagellanNTK (valeur par
défaut).</p>
</div>
</div>
<div class="section level2">
<h2 id="discovering-magellanntk">Discovering MagellanNTK<a class="anchor" aria-label="anchor" href="#discovering-magellanntk"></a>
</h2>
<p>MagellanNTK is a R package which proposes a framework to navigate
between steps of a complex data processing tool when the succession of
processes is mostly chronological.</p>
<p>For example, if a process is composed of three steps, then it is very
easy to run the first steps, then the second and finally the last one.
It is like a dataflow manager.</p>
<p>Moreover, this navigation system, which is at the core of
MagellanNTK, can by used at several levels. It can then be possible to
define, for example, a super-process (i.e. a pipeline) in which each
step is a whole process containing itself several steps.</p>
<div class="section level3">
<h3 id="pipelines-processes-and-steps">Pipelines, processes and steps<a class="anchor" aria-label="anchor" href="#pipelines-processes-and-steps"></a>
</h3>
<p>As any workflow manager, the aim of <code>MagellanNTK</code> is to
execute a series of ordered tasks over a dataset. The core of the
datamanager implements rules of navigation through the pipeline and
processes which ensure the quality of the whole analysis. This is done
to guide the user in a validated way to statistics anakysis.</p>
<p>In MagellanNTK, a process is defined as a data analysis process that
performs a minimal and consistent set of operations (called ‘steps’) on
a dataset. Each process has its own input object and returns an object
as output.</p>
<p>Dans le lexique de MagellanNTK, un workflow (ou pipeline) est un
ensemble d’étapes de traitement et d’analyse d’un dataset. Chacune de
ces étapes (ou process) peut également être composée de une ou plusieurs
sous-étapes.</p>
<p>Dans l’exemple fourni avec le package <code>MagellanNTK</code>, le
pipeline est appelé “PipelineDemo”. It contains 3 processes de
traitement de données: DataGeneration (which contains 1 step),
Preprocessing (with 2 steps: Filtering and Normalization) and
Clustering.</p>
<p>The input and the output of a process is an instance of
<code>MultiAssayExperiment</code> (mae) which contains one or several
<code>Summarizedexperiment</code> (se). The dataset is proceeded by a
series of treatment (those given by the steps) in a classical way for a
workflow manager:</p>
<ul>
<li>The steps of a process can be represented as a directional graph
with no no branches nor cycles. This ensures that there is only one way
to proceed the sequence of steps.</li>
<li>The input of any step is the whole dataset but the treatment is done
over the last instance of SE in the dataset</li>
<li>The output of any step is the same dataset of the input but with an
additional SE which corresponds to the result of the operations made in
the current step</li>
</ul>
<p>By default, any step can be skipped during the process. So as to
ensure the quality of the process and for mathematical reasons, we
introduced a tag ‘mandatory’ to each step which indicates if the step
can be skipped or not. While a mandatory step is not validated, all
further steps are let disabled. Once the mandatory step has been
validated, all the further steps are enabled until the next mandatory
one if exists.</p>
<p>The implementation of such features is made by mean of
<em>properties</em> on steps. Actually, four tags refines the
possibilities of a step:</p>
<ul>
<li><p><strong>Mandatory</strong>: indicates whether a task must be
executed to be able to pursue the workflow.</p></li>
<li><p><strong>Done-Validated/Undone</strong>: indicates whether a step
has been executed and validated. If the last step (‘Save’) of a process
is validated, then the mae dataset (with one more se than the input) is
returned. All features in the UI of MagellanTK (Exploratory Data
Analyzer, ‘Save as’) are updated with this new dataset</p></li>
<li><p><strong>Skipped</strong>: indicates whether a task has been
skipped (i.e. it is not validated and there is at least one step further
that has been validated). This is possible only with non mandatory
steps.</p></li>
<li><p><strong>Enabled/disabled</strong>: indicates whether the task is
runnable (UI is enabled or disabled).</p></li>
</ul>
<p>A chaque fois qu’une étape est validée, un nouveau SE est ajouté au
dataset. Ce nouveau dataset sert ensuite d’entrée pour les étapes
suivantes</p>
</div>
<div class="section level3">
<h3 id="rules-of-navigation">Rules of navigation<a class="anchor" aria-label="anchor" href="#rules-of-navigation"></a>
</h3>
<p>Some rules are applied to a workflow to guarantee the global strategy
of the workflow and the quality of the analysis process. This point is
important to understand the possibilities of navigation with
MagellanNTK.</p>
<p>When the app is launched, there is no yet dataset loaded. At this
time, all the pipeline, process nor steps are disabled until a dataset
is loaded. Once done, this dataset is sent to the pipeline and the
analysis can start.</p>
<p><strong>Start workflow at the beginning</strong>.<br>
At the beginning, the first step (‘Description’) is the only enabled.
This guarantees to always start from the first one. In the timeline of
the pipeline, the Description step is marked as VALIDATED because the
dataset already contains some information from the ‘Convert’
process.</p>
<p><strong>One way direction</strong>. The order in which tasks are
executed is in one direction: tasks are executed from the first one
towards the last one.</p>
<p><strong>A task operates on the most recent SE in the
dataset</strong>. As the results of tasks are stored (SE) in the dataset
in the order they have been produced, the tasks are run over the last SE
of the dataset. When a task produces a new results (SE), it is appended
to the end of the dataset (MAE).</p>
<p><strong>Run tasks once.</strong> Once a task has been validated, it
is marked as DONE and becomes DISABLED. This feature guarantees that the
user cannot run the same task several times on a SE. The only
possibility is ti reset the task to start it again. (see xxx).</p>
<p><strong>Validating a task.</strong> When a task is validated, its
state becomes disabled ans all the further tasks until the next
mandatory one are automatically enabled.</p>
<p><strong>Enabled/disabled tasks</strong>. A task is marked as ENABLED
because a rule allow it to be executed at this time. This happens
when:</p>
<ul>
<li>There exists a previous task marked as VALIDATED and there is no
MANDATORY and UNDONE task between them.</li>
<li>No dataset has been loaded yet in MagellanNTK.</li>
</ul>
<p><strong>Reset action</strong>. Whatever one consider a pipeline or a
process, the ‘Reset’ strategy is the same. Only the current task can be
reset. Resetting the current task also reset all further tasks after it.
This feature ensures the tasks to be processed only once. When a task is
reseted (the current one and any further), several actions are done: *
the dataset is reseted to its initial state at the beginning of the
task. Typically, it will contain the results of previous validated
tasks. * The UI of the task is disabled * The widgets go back to their
default values</p>
<p><strong>Reset a task of a process</strong>. This is not implemented
The only possibility is to reset the whole process.</p>
<p><strong>Reset a process</strong>. This can be done by clicking on the
Reset button in the command panel of the process.</p>
<p><strong>Reset an entire pipeline</strong>. * In the pipeline command
panel, there is no ‘Reset’ button. To reset a pipeline, the user goes
back to the first step (by clicking enough times on the ‘Prev’ button or
by clicking on the ‘Go back to start’ button). then, switch to the
command panel of the first task (on the vertical timeline) and click on
the Reset button.</p>
<p><strong>Navigation between steps.</strong> It is always possible to
navigate between all the steps event if they are disabled. This feature
is useful if one wants to see/discover the content of next steps or to
remind the values set in the previous widgets.</p>
</div>
<div class="section level3">
<h3 id="timelines">Timelines<a class="anchor" aria-label="anchor" href="#timelines"></a>
</h3>
<p>Timelines are a graphical representation of the set of steps which
compose the process or pipeline. Each node of the timeline is
represented by a bullet with its name. The style of bullets (the fill
color and the line) depends on the state of the corresponding step.</p>
<p>The available states are the following:</p>
<table class="table">
<colgroup>
<col width="29%">
<col width="23%">
<col width="23%">
<col width="23%">
</colgroup>
<thead><tr class="header">
<th align="center">Bullet</th>
<th align="center">Property</th>
<th align="center">State</th>
<th align="center">Done/Undone</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="center"><img src="figs/bullet_empty_red_disabled.png" width="15" height="15"></td>
<td align="center">Skipped</td>
<td align="center">Disabled</td>
<td align="center">Undone</td>
</tr>
<tr class="even">
<td align="center"><img src="figs/bullet_empty_red_disabled.png" width="15" height="15"></td>
<td align="center">Mandatory</td>
<td align="center">Disabled</td>
<td align="center">Undone</td>
</tr>
<tr class="odd">
<td align="center"><img src="figs/bullet_empty_red_enabled.png" width="15"></td>
<td align="center">Mandatory</td>
<td align="center">Enabled</td>
<td align="center">Undone</td>
</tr>
<tr class="even">
<td align="center"><img src="figs/bullet_full_green_disabled.png" width="15" height="15"></td>
<td align="center">-</td>
<td align="center">Disabled</td>
<td align="center">Done</td>
</tr>
<tr class="odd">
<td align="center"><img src="figs/bullet_empty_red_disabled.png" width="15" height="15"></td>
<td align="center">Not mandatory</td>
<td align="center"></td>
<td align="center">Undone</td>
</tr>
</tbody>
</table>
<p>At any time, the current step is identified by an underline below the
name of the step. The first step is always the current step at the
beginning of a process (launch) and after the ‘Reset’ action.</p>
</div>
<div class="section level3">
<h3 id="special-case-already-processed-datasets">Special case: Already-processed datasets<a class="anchor" aria-label="anchor" href="#special-case-already-processed-datasets"></a>
</h3>
<p>These are datasets that have already been processed by MagellanNTK
and may contain more than only one
<code>SummarizedExperiment</code>.</p>
</div>
<div class="section level3">
<h3 id="first-sight-of-the-user-interface">First sight of the user interface<a class="anchor" aria-label="anchor" href="#first-sight-of-the-user-interface"></a>
</h3>
<p>The package MagellanNTK is essentiellement based on the
<code>shinydashboard</code> package. et a été adapté pour le simplifier
(le header et la barre de contrôle sur la droite ont été supprimés). The
user interface is composed of two parts: the sidebar on the left and the
main screen.</p>
<ul>
<li>Sidebar on the left qui contient les menus généraux</li>
<li>Main part qui permet d’afficher le workflow manager</li>
</ul>
<p><strong>Sidebar menu</strong>. The sidebar contient les menus
principaux. Elle s’étend au passage de la souris au-dessus et se
retracte sinon. Les différents menus sont les suivants: * Home: donne
des informations générales sur MagellanNTK. Par défaut, il n’y a pas
grand chose. * Dataset: * Open file: permet de sélectionner un dataset
sur lequel travailler * import: permet de convertir un fichier de
résultats en un format compatible avec MagellanNTK. * Save as: Affiche
le module appelé <code>download_dataset</code> qui permet d’exporter le
dataset courant. Le module natif de MagellanNTK permet l’exportation au
format .rdata. Ce module fait partie des modules configurables</p>
<ul>
<li>Workflow:
<ul>
<li>Run: affche l’interface du datamanager. Cette interface est affichée
même s’il n’y a pas de dataset mais à ce moment la, tous les widgets
sont désactivés. Ils sont activés suivant la logique implémentée dans ce
gestionnaire</li>
<li>FAQ: Opens a Rmd file for FAQ. This file must be stored in the
<code>md</code> directory whithin the folder of a workflow</li>
<li>Manual: Affiche le manual utilisateur du pipeline courant</li>
<li>FAQ: Affiche le fichier de la FAQ du pipeline courant</li>
<li>Release notes: Affiche le fichier des releases notes du pipeline
courant</li>
</ul>
</li>
</ul>
<p><strong>Main screen</strong> Les interfaces liées aux items du menu
sont affichées in the main screen. C’est notamment dans cette partie
principale que s’affichera le datamanager. Plus de détails dans la suite
du document. Cet affichage est visible lorsque l’on clique dans le menu
de la barre latérale Workflow/Run. A ce stade du document, comme il n(’y
a pas encore de dataset chargé, toutes les interfaces du workflow sont
désactivés). L’utilisateur peut malgré tout naviguer pour décrouvrir les
différents process et paramètres proposés.</p>
<p>The user interface provided by MagellanNTK allows to work with
processes and pipelines as well. Thus, the interfaces for processes and
pipelines are very similar and share a lot of features. For this reason,
this section mainly focuses on a process workflow. Describing more
complex structures will be easier.</p>
</div>
<div class="section level3">
<h3 id="process-user-interface">Process user interface<a class="anchor" aria-label="anchor" href="#process-user-interface"></a>
</h3>
<p>The interface for a single process is mainly divided into two
parts:</p>
<ul>
<li>a sidebar on the left which is always visible,</li>
<li>all remaining space to show results (tabs, plots and any other
stuff)</li>
</ul>
<p>La sidebar elle-même est toujours composée de 3 régions: *
<strong>commands</strong>: shows a panel containing five buttons which
allow to interact and navigate through the different steps of the
process:</p>
<pre><code>* Previous: xxxx,
* Reset: xxx
* Run: xxx
* Run and Proceed: xxx
* Next</code></pre>
<ul>
<li>
<strong>timeline</strong> which represent the sequence of tasks
composing the process, placed in the order they might be executed (from
top to bottom).</li>
<li>
<strong>parameters</strong> of the current screen</li>
</ul>
<div class="section level4">
<h4 id="parameters">Parameters<a class="anchor" aria-label="anchor" href="#parameters"></a>
</h4>
<p>In this part of the sidebar are displayed the parameters
corresponding to the current step. They are enabled or disabled whether
the sate of their step: if the step is disabled (resp. enabled), the
widgets are disabled (resp. enabled).</p>
<p>If the bullet of a step is enabled then all the widgets of this step
are enabled (as well as the Perform button). In the contrary, a bullet
that is disabled means that all the widgets and the ‘Perform’ button in
the UI are disabled.</p>
</div>
</div>
<div class="section level3">
<h3 id="process-user-interface-1">Process user interface<a class="anchor" aria-label="anchor" href="#process-user-interface-1"></a>
</h3>
<p>sddsfdsgfdsvfdvregfgqsdfvf</p>
</div>
</div>
<div class="section level2">
<h2 id="running-a-single-process">Running a single process<a class="anchor" aria-label="anchor" href="#running-a-single-process"></a>
</h2>
<p>Pour cette section, nous proposons de suivre un example fourni dans
MagellanNTK afin de familiariser l’utilisateur avec les interfaces et le
fonctionnement ). Nous le guidons pas-à-pas pour utiliser l’interface de
MagellanNTK et effectuer un premier traitement de données. Example
(PipelineDemo_Preprocessing)</p>
<div class="section level3">
<h3 id="start-the-app">Start the app<a class="anchor" aria-label="anchor" href="#start-the-app"></a>
</h3>
<p>Les plugins pour MagellanNTK ne sont pas directement installés dans
le package. Les fichiers d’un plugin se trouvent dans un répertoire
spécial (voir le document ‘Inside MagellanNTK’) qui peut etre stocké
ailleurs : cela peut être sur l’ordinateur d’un utilisateur, dans un
autre package R.</p>
<p>Pour utiliser un plugin donné avec MagellanNTK, son chemlin d’accès
doit être spécifié par le biais d’un paramètre de la fonction
<code><a href="../reference/magellanNTK.html">MagellanNTK()</a></code>. Pour une plus grande facilité d’utilisation,
il est possible de créer un script R spécifique pour exécuter un plugin
donné. Dans le code qui suit, on a le contenu par exemple d’un fichier
appelé ‘PipelineDemo.R’ et qui lance MagellanNTK avec le module
‘Preprocessing’ contenu dans le plugin de démonstration ‘PipelineDemo’.
Tout d’abord, nous lançons l’application à l’aide des commandes
suivantes:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/edyp-lab/MagellanNTK" class="external-link">MagellanNTK</a></span><span class="op">)</span></span>
<span><span class="va">wf.name</span> <span class="op">&lt;-</span> <span class="st">'PipelineDemo_Preprocessing'</span></span>
<span><span class="va">wf.path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'workflow/PipelineDemo'</span>, package <span class="op">=</span> <span class="st">'MagellanNTK'</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/magellanNTK.html">MagellanNTK</a></span><span class="op">(</span><span class="va">wf.path</span>, <span class="va">wf.name</span><span class="op">)</span></span></code></pre></div>
<p>Ceci ouvrira un nouvel onglet dans votre navigateur internet par
défaut. Th default UI of MagellanNTK is quite empty. The first action to
perform is to load a dataset. This can be done by clicking on the menu
“Datset/open file”. If you haven’t exported yet a dataset to a file from
MagellanNTK, yous should select “demo datasets” option which allows you
to choose one of the dataset in the package <code>MagellanNTK</code>.
For this tutorial, you select the ‘lldata’ dataset which is an empty
one.</p>
<p>Once the dataset is loaded, the user clicks the menu “Workflow/Run”
to launch the plugin. In the main screen, its interface is
displayed.</p>
</div>
<div class="section level3">
<h3 id="user-interface">User interface<a class="anchor" aria-label="anchor" href="#user-interface"></a>
</h3>
<div class="section level4">
<h4 id="commands">Commands<a class="anchor" aria-label="anchor" href="#commands"></a>
</h4>
<p><strong>Previous</strong>. A click on the ‘prev’ button moves the
cursor in the timeline backward to enables the previous step. If the
current step is the first one, then the previous button is disabled</p>
<p><strong>Reset</strong>. This button is used to reset the entire
process (all its steps) to its initial state. Several actions
follow:</p>
<ul>
<li>The dataset which has been loaded in th process is deleted.</li>
<li>All the analysis that may have been done are deleted. Thus, the
bullets in the timeline go to the ‘UNDONE’ state whatever their state at
the moment of clicking on the Reset button</li>
<li>The current step becomes the first one (the cursor in the timeline
goes under the first step).</li>
<li>All the widgets in each step are set to their initial values and
become disabled (until a dataset is launched in the process).</li>
</ul>
<p><strong>Run</strong>. This action perform the analysis with the
selected parameters (setion below). If there are no sufficient
parameters to perform the analysis, no analysis is done and a modal info
is displayed and invite the user to adjust the parameters. Once the
action has been done, the bullet in the timeline changes its state and
pass to ‘DONE’. After this calculation, the current step stay unchanged
so as to allow the user to view the result of its action on the dataset.
This button is disabled if the current step is disabled (DONE or
SKIPPED)</p>
<p><strong>Run and Proceed</strong>. This is the same as the “Run”
button but if the calculation succeeded, the current step automatically
go to the next step. This method is quicker than the previsou one but
has the disadvantage that the sure coul not view the results. By the
way, at this moment, it is possible by clicking on the ‘Prev’
button.</p>
<p><strong>Next</strong>. A click on the ‘Next’ button moves the cursor
in the timeline forward to select the next step. If the current step is
the last one, then the next button is disabled</p>
<p><strong>Back to start</strong> As we will se later in the document,
pipelines have only three commands : the already-known ‘Prev’ and ‘Next’
which have the same function as for a process and another commands
called ‘Back to start’ which set the first step of a pipeline as the
current one (the underline goes under its name)</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="running-a-pipeline-workflow">Running a pipeline workflow<a class="anchor" aria-label="anchor" href="#running-a-pipeline-workflow"></a>
</h2>
<p>In this section, one describes how to use the pipeline workflow. As
for the process workflow, this is a step-by-step guide to be more
familiar with the interface. It can be followed by typing the following
command in a R console:</p>
<p><strong>Launch a pipeline</strong></p>
<p>When launching a pipeline workflow, two timelines appear: one for the
pipeline itself and the other which is embedded in the UI of the
processes.</p>
<p>Note that the process called ‘Description’ of a pipeline does not
have any steps besides a Description one. This is an exception to the
rule that any process have at least one real step.</p>
<div class="section level3">
<h3 id="user-interface-1">User interface<a class="anchor" aria-label="anchor" href="#user-interface-1"></a>
</h3>
<p>In the case of a pipeline, the principle is the same. In the example
in Fig. xxx, a pipeline called ‘Pipeline A’ has four steps (Description,
Process 1, Process 2 and Process 3). Remark that the content of the UI
area of the pipeline is exactly the whole UI of its current process
(e.g. in Fig @ref(fig:layout)).</p>
<div class="figure" style="text-align: center">
<img src="./figs/layout.png" class="r-plt" alt="(a) Horizontal layout, (b) Vertical layout" width="100%"><p class="caption">
</p>
<ol style="list-style-type: lower-alpha"><li>Horizontal layout, (b) Vertical layout

</li></ol>
</div>

<p>Note that in a pipeline timeline, the first step is still
‘Description’ but there is not more step called ‘Save’ as it is the case
for any process timeline. The reason is because it is not necessary
anymore due to the fact that a ‘Save’ step exists in the last process.
Thus, when the user save its work in the last process of the pipeline,
this will automatically save the whole object and return it to the
caller program.</p>
<p>In the next figure (@ref(fig:demopipeline5)), the user has skipped
Process1, has validated all steps of Process2 and he is ready to
validate the Process2. Once done, the bullet for Process2 will change to
‘Done’ and the bullet for ‘Process1’ will change to ‘skipped’. One have
the same behaviour as for processes workflows.</p>
<p>When using a pipeline level, there are two ‘Reset’ Buttons: one for
the pipeline itself and one for the processes. If the Reset button of a
process is clicked, that affects only the current process.</p>
<p><strong>Resetting a pipeline</strong></p>
<p>If the Reset button of a pipeline is clicked, this will set back the
entire pipeline to its default values. The object is set back to the
beginning, i.e. all the datasets added by the processes are deleted. In
the pipeline’s timeline, the first step (‘Description’) becomes the
current one.</p>
<p>If the user goes backward on a previous step and validate this step,
then the following steps are automatically set to ‘undone’ and have to
be rerun. This guarantees that the steps are always done in the same
way. This feature must be implemented in each module source code. It
cannot be coded in the navigation module (recursive loop on the listener
of isDone vector)</p>
<p>Similarly to a process, a pipeline is a workflow defined as a
sequence of processes (Fig @ref(fig:pipelineEV)). Thus, the manner of
pipeline works will be very similar to a process behaviour:</p>
<ul>
<li><p>each process (task of a pipeline) in a pipeline has tags and
properties (See xxx)</p></li>
<li><p>there is a list of datasets in input and get a list of datasets
at output</p></li>
</ul>
<p>As shown in xxx, a pipeline is at third level of such a
structure.</p>
<div class="figure" style="text-align: center">
<img src="./figs/pipeline.png" class="r-plt" alt="A pipeline is a sequence of processes (eclated view)." width="100%"><p class="caption">
A pipeline is a sequence of processes (eclated view).
</p>
</div>
<div class="section level4">
<h4 id="commands-1">Commands<a class="anchor" aria-label="anchor" href="#commands-1"></a>
</h4>
<p>Three buttons are available to interact with the whole current step
and navigate through the different steps of the process:</p>
<div class="figure" style="text-align: center">
<img src="./figs/commands.png" class="r-plt" alt="Commands (Previous step, Reset workflow, Next step." width="50%"><p class="caption">
Commands (Previous step, Reset workflow, Next step.
</p>
</div>
<ul>
<li><p><strong>Prev</strong> changes the current step to set the
previous one. This button is enabled only if there is at least one step
backward,</p></li>
<li><p>Similarly, <strong>Next</strong> (on the right) changes the
current step to set the next one on the timeline. This button is enabled
only if there is at least one step forwards,</p></li>
<li><p><strong>Reset</strong> sets the workflow in its original state:
all the widgets are set to their default value, the current step becomes
the first one and is enabled and all other steps become
disabled).</p></li>
</ul>
</div>
</div>
<div class="section level3">
<h3 id="rules">Rules<a class="anchor" aria-label="anchor" href="#rules"></a>
</h3>
</div>
<div class="section level3">
<h3 id="example-pipelinedemo">Example (PipelineDemo)<a class="anchor" aria-label="anchor" href="#example-pipelinedemo"></a>
</h3>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/edyp-lab/MagellanNTK" class="external-link">MagellanNTK</a></span><span class="op">)</span></span>
<span><span class="va">wf.name</span> <span class="op">&lt;-</span> <span class="st">'PipelineDemo'</span></span>
<span><span class="va">wf.path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">'workflow/PipelineDemo'</span>, package <span class="op">=</span> <span class="st">'MagellanNTK'</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/magellanNTK.html">MagellanNTK</a></span><span class="op">(</span><span class="va">wf.path</span>, <span class="va">wf.name</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="already-processed-datasets">Already-processed datasets<a class="anchor" aria-label="anchor" href="#already-processed-datasets"></a>
</h3>
<hr>
<p>As a workflow manager, the aim of <code>MagellanNTK</code> is to
execute a series of ordered tasks over a dataset.</p>
<p>Dans le lexique de MagellanNTK, un workflow (ou pipeline) est un
ensemble d’étapes de traitement et d’analyse d’un dataset. Chacune de
ces étapes (ou process) peut également être composée de une ou plusieurs
sous-étapes.</p>
<p>Dans l’exemple de workflow fourni avec le package
<code>MagellanNTK</code>, le pipeline/workflow est appelé
“PipelineDemo”. Il contient 4 étapes de traitement de données: * Process
A: Génère des données avec deux distributions gaussiennes différentes, *
Process B: Supprime des lignes selon un critère défini par l’utilisateur
* Process C: Normalise les données suivants différentes méthodes *
Process D: Clustering des données</p>
<p>A noter que les étapes ‘Description’ et ‘Save’ ne sont pas à
proprement parler des étapes de traitement des données. L’étape de
description affiche le contenu d’un fihcier présente dans le répertoire
du workflow et permet d’afficher des informations sur le pipeline. La
dernière étape ‘Save’ permet d’accéder directement au module de
téléchargement du jeu de données traité (le même que si on passait par
la barre latérale “Save as”)</p>
</div>
<div class="section level3">
<h3 id="pipeline">Pipeline<a class="anchor" aria-label="anchor" href="#pipeline"></a>
</h3>
</div>
<div class="section level3">
<h3 id="interface-of-a-step">Interface of a step<a class="anchor" aria-label="anchor" href="#interface-of-a-step"></a>
</h3>
<p>The interface for each step contains the graphical elements
implemented by the developer of the workflow such as widgets, plots,
textual information, etc…).</p>
<p>MagellanNTK adds only one button to each interface: the Perform
button. This command is used to validate the step and trigger all the
updates in the workflow (disabling the current step, enabling further
ones, changing the style of bullets, etc..).</p>
</div>
</div>
<div class="section level2">
<h2 id="running-a-process-workflow">Running a process workflow<a class="anchor" aria-label="anchor" href="#running-a-process-workflow"></a>
</h2>
<p>This section aims at describing how to use the workflow UI when
processing a dataset. The goal is not to describe the different data
processing tools available but to explain the behaviour of the user
interface of what we call ‘MagellanNTK core’. The next of the section is
a step-by-step guide of working with he UI worklfow. It can be followed
by typing the following command in a R console:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/edyp-lab/MagellanNTK" class="external-link">MagellanNTK</a></span><span class="op">)</span></span>
<span><span class="fu">demo_workflow</span><span class="op">(</span><span class="st">'PipelineA_Process1'</span><span class="op">)</span></span></code></pre></div>
<p>The workflow used in this tutorial is a process called ‘Process 1’
which contains four steps: <em>Step1</em> and <em>Step2</em> are third
party code and specific to the process while the steps
<em>Description</em> and <em>Save</em> are added by MagellanNTK for xxx
purpose. By default, it comes with a horizontal layout.</p>
<p><strong>Starting the workflow</strong></p>
<p>Once the workflow manager is launched, a window containing the Shiny
application opens (Fig @ref(fig:demo1)). The current task is the first
one (‘Description’) and is enabled. At this time, the other steps are
yet disabled (this is because th Description step is mandatory and none
of the further steps is enabled until this steps is validated).</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="./figs/demo_1.png" class="r-plt" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p>However, it is possible to view the content of the other steps even
if they are disabled (Fig @ref(fig:demo12)).</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="./figs/demo_1_2.png" class="r-plt" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p><strong>Validating the ‘Description’ step</strong></p>
<p>The validation of the step (See Fig @(ref-fig:demo13) (by a click on
the ‘Start’ button) leads to some changes:</p>
<ul>
<li><p>the bullet of the step change from ‘Undone’ to ‘Done’.</p></li>
<li><p>The current step becomes disabled (all its widgets disabled). The
forwarding steps are enabled if they respect the rule
<strong>‘Enabling/disabling tasks’</strong> (See Section
@ref(rules-of-navigation)). In this example, the steps ‘Step 1’ and
‘Step 2’ are enabled but not the step ‘Save’ because it is placed after
a non-validated mandatory step.</p></li>
</ul>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="./figs/demo_1_3.png" class="r-plt" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p><strong>Go to next step</strong></p>
<p>The user switches to ‘Step 1’ by clicking on the ‘Next’ button. It
becomes the new current step (Fig @ref(fig:demo2)).</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="./figs/demo_2.png" class="r-plt" alt="New current step" width="100%"><p class="caption">
New current step
</p>
</div>
</div>
<p>In this use case, one skip this step. The user do not click on the
‘Perform’ button and switch to the next step (‘Step 2’) by clicking on
the ‘Next’ button. The user set it own values to the widgets and then
validate his choices by clicking on the button ‘Perform’.</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="./figs/demo_3.png" class="r-plt" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p>The changes are the following (See Fig @ref(fig:demo33)):</p>
<ul>
<li><p>As for all current steps, the entire interface switch to a
disabled state,</p></li>
<li><p>the bullet changes to the style of Validated steps</p></li>
<li><p>the next steps become enabled. In this case, there is only one
last step (‘Save’)</p></li>
<li><p>the style of bullets for previous steps is updated if necessary
(e.g. ‘Step 1’ switch to the bullet ‘skipped’. Note: A step is really
marked as skipped only if it has not been validated and a further one is
validated. That means that one can begin to modify the widgets in a step
<em>n</em>. If the user do not validate it and go to another step
(<em>&gt;n</em>), then the values of the step <em>n</em> will be
forgotten.</p></li>
</ul>
<p>If one go back to the previous step (the one we have skipped), we can
see a blue area which informs the user that this step has been skipped
(it has been disabled even with no validation). As a skipped step is
disabled, it is not possible to run it despite resetting the whole
workflow and start it again from scratch. This is only true for
processes. We will see that the workflows for pipelines are a bit more
flexible.</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="./figs/demo_3_3.png" class="r-plt" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p><strong>Saving workflow result</strong></p>
<p>The last step ‘Save’ is now enabled (by the validation of the
previous step). It is time to save th result of the workflow by clicking
on the ‘Save’ button (Fig @ref(Fig:demo4)). This will result in
appending the new dataset to the list of datasets passed as input to the
workflow.</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="./figs/demo_4.png" class="r-plt" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
<p>Once this step has been validated, all the steps of the workflow are
disabled.</p>
<p><strong>Reset a process</strong></p>
<p>In the workflow of a process, it is not possible to reset one
individual step so as to restart the analysis from this particular step.
In this case, if the user wants to redo one or more steps, it has to
reset the entire workflow. This can be done by clicking on the button
‘Reset’ which set the workflow in its default state (the same state as
when the user launches the workflow). The list of datasets return to the
one at the beginning of the workflow. The reset can be done on every
step. A popup warns the user of the effects (Fig
@ref(fig:demoreset)).</p>
<div class="bordered">
<div class="figure" style="text-align: center">
<img src="./figs/demo_reset.png" class="r-plt" alt="UI process" width="100%"><p class="caption">
UI process
</p>
</div>
</div>
</div>
<div class="section level2">
<h2 id="session-information">Session information<a class="anchor" aria-label="anchor" href="#session-information"></a>
</h2>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/sessionInfo.html" class="external-link">sessionInfo</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## R version 4.5.2 (2025-10-31)</span></span>
<span><span class="co">## Platform: x86_64-pc-linux-gnu</span></span>
<span><span class="co">## Running under: Ubuntu 24.04.3 LTS</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## Matrix products: default</span></span>
<span><span class="co">## BLAS:   /usr/lib/x86_64-linux-gnu/openblas-pthread/libblas.so.3 </span></span>
<span><span class="co">## LAPACK: /usr/lib/x86_64-linux-gnu/openblas-pthread/libopenblasp-r0.3.26.so;  LAPACK version 3.12.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## locale:</span></span>
<span><span class="co">##  [1] LC_CTYPE=C.UTF-8       LC_NUMERIC=C           LC_TIME=C.UTF-8       </span></span>
<span><span class="co">##  [4] LC_COLLATE=C.UTF-8     LC_MONETARY=C.UTF-8    LC_MESSAGES=C.UTF-8   </span></span>
<span><span class="co">##  [7] LC_PAPER=C.UTF-8       LC_NAME=C              LC_ADDRESS=C          </span></span>
<span><span class="co">## [10] LC_TELEPHONE=C         LC_MEASUREMENT=C.UTF-8 LC_IDENTIFICATION=C   </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## time zone: UTC</span></span>
<span><span class="co">## tzcode source: system (glibc)</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## attached base packages:</span></span>
<span><span class="co">## [1] stats     graphics  grDevices utils     datasets  methods   base     </span></span>
<span><span class="co">## </span></span>
<span><span class="co">## other attached packages:</span></span>
<span><span class="co">## [1] BiocStyle_2.38.0</span></span>
<span><span class="co">## </span></span>
<span><span class="co">## loaded via a namespace (and not attached):</span></span>
<span><span class="co">##  [1] digest_0.6.39       desc_1.4.3          R6_2.6.1           </span></span>
<span><span class="co">##  [4] bookdown_0.46       fastmap_1.2.0       xfun_0.56          </span></span>
<span><span class="co">##  [7] cachem_1.1.0        knitr_1.51          htmltools_0.5.9    </span></span>
<span><span class="co">## [10] rmarkdown_2.30      lifecycle_1.0.5     cli_3.6.5          </span></span>
<span><span class="co">## [13] sass_0.4.10         pkgdown_2.2.0       textshaping_1.0.4  </span></span>
<span><span class="co">## [16] jquerylib_0.1.4     systemfonts_1.3.1   compiler_4.5.2     </span></span>
<span><span class="co">## [19] tools_4.5.2         ragg_1.5.0          bslib_0.10.0       </span></span>
<span><span class="co">## [22] evaluate_1.0.5      yaml_2.3.12         BiocManager_1.30.27</span></span>
<span><span class="co">## [25] otel_0.2.0          jsonlite_2.0.0      rlang_1.1.7        </span></span>
<span><span class="co">## [28] fs_1.6.6            htmlwidgets_1.6.4</span></span></code></pre>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by MagellanNTK Package Maintainer, Samuel Wieczorek, Thomas Burger, Manon Gaudin.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
